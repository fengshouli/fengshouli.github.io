<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MySQL2024-下 | 冯手力-java学习之路</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.49d708b7.css" as="style"><link rel="preload" href="/assets/js/app.e6553dd9.js" as="script"><link rel="preload" href="/assets/js/2.f327c6f6.js" as="script"><link rel="preload" href="/assets/js/1.65890b21.js" as="script"><link rel="preload" href="/assets/js/10.28da0279.js" as="script"><link rel="prefetch" href="/assets/js/100.3f67ceba.js"><link rel="prefetch" href="/assets/js/101.1e6b498b.js"><link rel="prefetch" href="/assets/js/102.00199558.js"><link rel="prefetch" href="/assets/js/103.cb589f22.js"><link rel="prefetch" href="/assets/js/104.cab26ab3.js"><link rel="prefetch" href="/assets/js/105.bf01bd31.js"><link rel="prefetch" href="/assets/js/106.3896d2a8.js"><link rel="prefetch" href="/assets/js/107.940ed5bd.js"><link rel="prefetch" href="/assets/js/108.d0227db2.js"><link rel="prefetch" href="/assets/js/109.c4ea9421.js"><link rel="prefetch" href="/assets/js/11.499b1ef6.js"><link rel="prefetch" href="/assets/js/110.65523b02.js"><link rel="prefetch" href="/assets/js/111.4e289c06.js"><link rel="prefetch" href="/assets/js/112.37b56330.js"><link rel="prefetch" href="/assets/js/113.dee38bce.js"><link rel="prefetch" href="/assets/js/114.d54f016e.js"><link rel="prefetch" href="/assets/js/115.a5d342ba.js"><link rel="prefetch" href="/assets/js/116.61b42bbf.js"><link rel="prefetch" href="/assets/js/117.384fa39a.js"><link rel="prefetch" href="/assets/js/118.de70117e.js"><link rel="prefetch" href="/assets/js/119.301c1a9b.js"><link rel="prefetch" href="/assets/js/12.e2bb6bf6.js"><link rel="prefetch" href="/assets/js/120.5d9edcac.js"><link rel="prefetch" href="/assets/js/121.1030f828.js"><link rel="prefetch" href="/assets/js/122.93206142.js"><link rel="prefetch" href="/assets/js/123.160b984e.js"><link rel="prefetch" href="/assets/js/124.41c4322e.js"><link rel="prefetch" href="/assets/js/125.841832fa.js"><link rel="prefetch" href="/assets/js/126.ec3ffa0f.js"><link rel="prefetch" href="/assets/js/127.b0a0a372.js"><link rel="prefetch" href="/assets/js/128.4f847758.js"><link rel="prefetch" href="/assets/js/129.4298badb.js"><link rel="prefetch" href="/assets/js/13.6e92c677.js"><link rel="prefetch" href="/assets/js/14.50fc1271.js"><link rel="prefetch" href="/assets/js/15.53f9b1a9.js"><link rel="prefetch" href="/assets/js/16.2288ae4a.js"><link rel="prefetch" href="/assets/js/17.a67122e3.js"><link rel="prefetch" href="/assets/js/18.b5b3b2b0.js"><link rel="prefetch" href="/assets/js/19.98e5962f.js"><link rel="prefetch" href="/assets/js/20.c3553c70.js"><link rel="prefetch" href="/assets/js/21.3d794f8a.js"><link rel="prefetch" href="/assets/js/22.5e27acdb.js"><link rel="prefetch" href="/assets/js/23.572115ce.js"><link rel="prefetch" href="/assets/js/24.fa6ad6bf.js"><link rel="prefetch" href="/assets/js/25.ebec8bf4.js"><link rel="prefetch" href="/assets/js/26.11811683.js"><link rel="prefetch" href="/assets/js/27.da58e60d.js"><link rel="prefetch" href="/assets/js/28.5113a04f.js"><link rel="prefetch" href="/assets/js/29.b55cc958.js"><link rel="prefetch" href="/assets/js/3.00f65edc.js"><link rel="prefetch" href="/assets/js/30.0762efaf.js"><link rel="prefetch" href="/assets/js/31.47e1502f.js"><link rel="prefetch" href="/assets/js/32.9b69bd31.js"><link rel="prefetch" href="/assets/js/33.21a56e2a.js"><link rel="prefetch" href="/assets/js/34.5a9ada4b.js"><link rel="prefetch" href="/assets/js/35.8791941c.js"><link rel="prefetch" href="/assets/js/36.604d27ff.js"><link rel="prefetch" href="/assets/js/37.658cf2d4.js"><link rel="prefetch" href="/assets/js/38.71d8fd9e.js"><link rel="prefetch" href="/assets/js/39.e55e40ac.js"><link rel="prefetch" href="/assets/js/4.0c95c87a.js"><link rel="prefetch" href="/assets/js/40.259535fd.js"><link rel="prefetch" href="/assets/js/41.d6e85839.js"><link rel="prefetch" href="/assets/js/42.438dab03.js"><link rel="prefetch" href="/assets/js/43.c979887a.js"><link rel="prefetch" href="/assets/js/44.9420c61d.js"><link rel="prefetch" href="/assets/js/45.33e4f9e2.js"><link rel="prefetch" href="/assets/js/46.f3cbef9c.js"><link rel="prefetch" href="/assets/js/47.fb5936ef.js"><link rel="prefetch" href="/assets/js/48.60438c12.js"><link rel="prefetch" href="/assets/js/49.f8d33107.js"><link rel="prefetch" href="/assets/js/5.38e381d7.js"><link rel="prefetch" href="/assets/js/50.8a141be7.js"><link rel="prefetch" href="/assets/js/51.e66be149.js"><link rel="prefetch" href="/assets/js/52.01b5d591.js"><link rel="prefetch" href="/assets/js/53.5f75e288.js"><link rel="prefetch" href="/assets/js/54.b800f5ab.js"><link rel="prefetch" href="/assets/js/55.5ec83bab.js"><link rel="prefetch" href="/assets/js/56.cb352d50.js"><link rel="prefetch" href="/assets/js/57.abd5cb67.js"><link rel="prefetch" href="/assets/js/58.247575be.js"><link rel="prefetch" href="/assets/js/59.fe2ea4c4.js"><link rel="prefetch" href="/assets/js/6.94e6c325.js"><link rel="prefetch" href="/assets/js/60.6ca1dbf2.js"><link rel="prefetch" href="/assets/js/61.17827b92.js"><link rel="prefetch" href="/assets/js/62.555b4828.js"><link rel="prefetch" href="/assets/js/63.84ca6822.js"><link rel="prefetch" href="/assets/js/64.3ad6991c.js"><link rel="prefetch" href="/assets/js/65.4ceba325.js"><link rel="prefetch" href="/assets/js/66.974a3e9f.js"><link rel="prefetch" href="/assets/js/67.b28920e9.js"><link rel="prefetch" href="/assets/js/68.414e9dcb.js"><link rel="prefetch" href="/assets/js/69.243e7e58.js"><link rel="prefetch" href="/assets/js/7.4c950058.js"><link rel="prefetch" href="/assets/js/70.edce6905.js"><link rel="prefetch" href="/assets/js/71.1597ac0b.js"><link rel="prefetch" href="/assets/js/72.df434d68.js"><link rel="prefetch" href="/assets/js/73.7eb59665.js"><link rel="prefetch" href="/assets/js/74.395e3edc.js"><link rel="prefetch" href="/assets/js/75.5f1f8b39.js"><link rel="prefetch" href="/assets/js/76.f7fd1846.js"><link rel="prefetch" href="/assets/js/77.218c2e3e.js"><link rel="prefetch" href="/assets/js/78.0f55efd4.js"><link rel="prefetch" href="/assets/js/79.5eb3d3e2.js"><link rel="prefetch" href="/assets/js/80.99a11cfb.js"><link rel="prefetch" href="/assets/js/81.384897a1.js"><link rel="prefetch" href="/assets/js/82.7e5ff056.js"><link rel="prefetch" href="/assets/js/83.661009cc.js"><link rel="prefetch" href="/assets/js/84.27dc6cec.js"><link rel="prefetch" href="/assets/js/85.2dfaa1d1.js"><link rel="prefetch" href="/assets/js/86.efe2a923.js"><link rel="prefetch" href="/assets/js/87.5ef2b325.js"><link rel="prefetch" href="/assets/js/88.35aad6b2.js"><link rel="prefetch" href="/assets/js/89.3c8af6e3.js"><link rel="prefetch" href="/assets/js/90.96eae265.js"><link rel="prefetch" href="/assets/js/91.ba662ab3.js"><link rel="prefetch" href="/assets/js/92.e95021d1.js"><link rel="prefetch" href="/assets/js/93.98e09b16.js"><link rel="prefetch" href="/assets/js/94.88c31113.js"><link rel="prefetch" href="/assets/js/95.fd90d734.js"><link rel="prefetch" href="/assets/js/96.4637c8fd.js"><link rel="prefetch" href="/assets/js/97.cbfb4df6.js"><link rel="prefetch" href="/assets/js/98.ab051256.js"><link rel="prefetch" href="/assets/js/99.9b434dc7.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.098fd5b4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.49d708b7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">冯手力-java学习之路</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/操作/" class="nav-link">
  操作
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="经验" class="dropdown-title"><span class="title">经验</span> <span class="arrow down"></span></button> <button type="button" aria-label="经验" class="mobile-dropdown-title"><span class="title">经验</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/工作经验/" class="nav-link">
  工作经验
</a></li><li class="dropdown-item"><!----> <a href="/项目经验/" class="nav-link">
  项目经验
</a></li></ul></div></div><div class="nav-item"><a href="/java/" class="nav-link">
  java
</a></div><div class="nav-item"><a href="/架构之路/" class="nav-link">
  架构之路
</a></div><div class="nav-item"><a href="/领域驱动设计/" class="nav-link">
  领域驱动设计
</a></div><div class="nav-item"><a href="/源码解析/" class="nav-link">
  源码解析
</a></div><div class="nav-item"><a href="/程序员英语/" class="nav-link">
  程序员英语
</a></div><div class="nav-item"><a href="/面试突击班/" class="nav-link">
  面试突击班
</a></div><div class="nav-item"><a href="/算法体系/" class="nav-link">
  算法体系
</a></div><div class="nav-item"><a href="/用友/" class="nav-link">
  用友
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/操作/" class="nav-link">
  操作
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="经验" class="dropdown-title"><span class="title">经验</span> <span class="arrow down"></span></button> <button type="button" aria-label="经验" class="mobile-dropdown-title"><span class="title">经验</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/工作经验/" class="nav-link">
  工作经验
</a></li><li class="dropdown-item"><!----> <a href="/项目经验/" class="nav-link">
  项目经验
</a></li></ul></div></div><div class="nav-item"><a href="/java/" class="nav-link">
  java
</a></div><div class="nav-item"><a href="/架构之路/" class="nav-link">
  架构之路
</a></div><div class="nav-item"><a href="/领域驱动设计/" class="nav-link">
  领域驱动设计
</a></div><div class="nav-item"><a href="/源码解析/" class="nav-link">
  源码解析
</a></div><div class="nav-item"><a href="/程序员英语/" class="nav-link">
  程序员英语
</a></div><div class="nav-item"><a href="/面试突击班/" class="nav-link">
  面试突击班
</a></div><div class="nav-item"><a href="/算法体系/" class="nav-link">
  算法体系
</a></div><div class="nav-item"><a href="/用友/" class="nav-link">
  用友
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/%E9%9D%A2%E8%AF%95%E7%AA%81%E5%87%BB%E7%8F%AD/" aria-current="page" class="sidebar-link">面试突击</a></li><li><a href="/面试突击班/面试表达.html" class="sidebar-link">面试表达</a></li><li><a href="/面试突击班/基础面试题.html" class="sidebar-link">基础面试题</a></li><li><a href="/面试突击班/多线程与IO.html" class="sidebar-link">多线程与IO</a></li><li><a href="/面试突击班/JVM面试突击班2025.html" class="sidebar-link">JVM面试突击班2025-1</a></li><li><a href="/面试突击班/JVM2024-下.html" class="sidebar-link">JVM2024-下</a></li><li><a href="/面试突击班/JVM2024-上.html" class="sidebar-link">JVM2024-上</a></li><li><a href="/面试突击班/redis2025.html" class="sidebar-link">redis2025-上</a></li><li><a href="/面试突击班/redis2024-下.html" class="sidebar-link">redis2024-下</a></li><li><a href="/面试突击班/redis2024-上.html" class="sidebar-link">redis2024-上</a></li><li><a href="/面试突击班/Mysql.html" class="sidebar-link">Mysql</a></li><li><a href="/面试突击班/Mysql2024-下.html" class="active sidebar-link">MySQL2024-下</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#mysql-一" class="sidebar-link">MySQL.一</a></li><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#一、mysql中常见数据类型的基本区别" class="sidebar-link">一、MySQL中常见数据类型的基本区别</a></li><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#二、mysql中innodb逻辑存储结构-常识性的概念" class="sidebar-link">二、MySQL中InnoDB逻辑存储结构（常识性的概念）</a></li><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#三、mysql中的物理存储结构" class="sidebar-link">三、MySQL中的物理存储结构</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#_3-1、5-7-版本" class="sidebar-link">3.1、5.7 版本</a></li><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#_3-2、8-0-版本" class="sidebar-link">3.2、8.0 版本</a></li></ul></li><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#四、mysql常见的存储引擎和区别" class="sidebar-link">四、MySQL常见的存储引擎和区别</a></li><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#mysql-二" class="sidebar-link">MySQL.二</a></li><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#一、buffer-pool-在2025中整理了-主要看2025" class="sidebar-link">一、Buffer Pool-在2025中整理了,主要看2025</a></li><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#二、change-buffer" class="sidebar-link">二、Change Buffer</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#_2-1-change-buffer是个啥" class="sidebar-link">2.1 Change Buffer是个啥？</a></li><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#_2-2-数据到changebuffer后-mysql宕机了咋整" class="sidebar-link">2.2 数据到ChangeBuffer后，MySQL宕机了咋整？</a></li></ul></li><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#三、ahi" class="sidebar-link">三、AHI</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#_3-1-ahi是个啥" class="sidebar-link">3.1 AHI是个啥？</a></li></ul></li><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#四、log-buffer" class="sidebar-link">四、Log Buffer</a></li><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#五、redo-log" class="sidebar-link">五、redo log</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#_5-1-redo-log是个啥" class="sidebar-link">5.1 redo log是个啥？</a></li><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#_5-2-redo-log以什么形式存储的。" class="sidebar-link">5.2 redo log以什么形式存储的。</a></li><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#_5-3-数据为何不直接落到具体的表中-而是优先写入到redo-log" class="sidebar-link">5.3 数据为何不直接落到具体的表中，而是优先写入到redo log</a></li><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#_5-4-redo-log如何保证数据的完整。" class="sidebar-link">5.4 redo log如何保证数据的完整。</a></li></ul></li><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#mysql-三" class="sidebar-link">MySQL.三</a></li><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#二、bin-log" class="sidebar-link">二、bin log</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#_2-1-bin-log干啥的" class="sidebar-link">2.1 bin log干啥的？</a></li><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#_2-2-bin-log的日志存储形式" class="sidebar-link">2.2 bin log的日志存储形式</a></li><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#_2-3-bin-log的存储数据的时机" class="sidebar-link">2.3 bin log的存储数据的时机？</a></li></ul></li><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#三、两阶段提交" class="sidebar-link">三、两阶段提交</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#_3-1-mysql为啥要有2pc" class="sidebar-link">3.1 MySQL为啥要有2PC？</a></li><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#_3-2-mysql的两阶段提交如何解决的上述问题" class="sidebar-link">3.2 MySQL的两阶段提交如何解决的上述问题？</a></li></ul></li><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#四、undo-log" class="sidebar-link">四、undo log</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#_4-1-undo-log干啥的" class="sidebar-link">4.1 undo log干啥的？</a></li><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#_4-2-事务的四大特性-常识-必会" class="sidebar-link">4.2 事务的四大特性（常识，必会！）</a></li><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#_4-3-事务的并发会产生的问题-常识-必会" class="sidebar-link">4.3 事务的并发会产生的问题（常识，必会！）</a></li><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#_4-4-mysql的事务隔离级别-常识-必会" class="sidebar-link">4.4 MySQL的事务隔离级别（常识，必会！）</a></li></ul></li><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#mysql-四" class="sidebar-link">MySQL.四</a></li><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#一、mvcc" class="sidebar-link">一、MVCC</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#_1-1-mvcc是个啥" class="sidebar-link">1.1 MVCC是个啥？</a></li><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#_1-2-隐藏字段是个啥" class="sidebar-link">1.2 隐藏字段是个啥？</a></li><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#_1-3-undo-log存储的数据结构" class="sidebar-link">1.3 undo log存储的数据结构</a></li><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#_1-4-read-view内部结构存储了个啥" class="sidebar-link">1.4 Read View内部结构存储了个啥？</a></li><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#_1-5-readview可见性判断的逻辑" class="sidebar-link">1.5 ReadView可见性判断的逻辑</a></li></ul></li><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#二、mysql主从同步的原理" class="sidebar-link">二、MySQL主从同步的原理</a></li><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#三、mysql主从同步必然有延迟-怎么办" class="sidebar-link">三、MySQL主从同步必然有延迟，怎么办？</a></li><li class="sidebar-sub-header"><a href="/面试突击班/Mysql2024-下.html#n、bin-log、undo-log存哪了-了解" class="sidebar-link">N、bin log、undo log存哪了？（了解）</a></li></ul></li><li><a href="/面试突击班/并发编程2025.html" class="sidebar-link">并发编程-2025</a></li><li><a href="/面试突击班/并发编程2024.html" class="sidebar-link">并发编程2024-1</a></li><li><a href="/面试突击班/Spring-2024下.html" class="sidebar-link">Spring-2024下</a></li><li><a href="/面试突击班/Spring-2024上.html" class="sidebar-link">Spring-2024上</a></li><li><a href="/面试突击班/MQ2025上.html" class="sidebar-link">MQ-2025上</a></li><li><a href="/面试突击班/MQ2024下.html" class="sidebar-link">MQ-2024下</a></li><li><a href="/面试突击班/MQ2024上.html" class="sidebar-link">MQ-2024上</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="mysql2024-下"><a href="#mysql2024-下" class="header-anchor">#</a> MySQL2024-下</h1> <h2 id="mysql-一"><a href="#mysql-一" class="header-anchor">#</a> MySQL.一</h2> <h2 id="一、mysql中常见数据类型的基本区别"><a href="#一、mysql中常见数据类型的基本区别" class="header-anchor">#</a> 一、MySQL中常见数据类型的基本区别</h2> <blockquote><p>MySQL中咱们聊常见的数值、字符串、时间类型。</p> <p>对于每个类型的数据的大小和一些基本区别先去掌握一下。</p> <p><strong>数值类型：</strong></p> <ul><li>整型：主要分为了5个整型的数据类型。MySQL中的整型常用的这5种，其中根据字节咱们就可以大致对应到Java中的具体类型，其中3byte几乎很少用到。他们的区别就是存储的范围大小不一样，一般在使用数据类型的时候，<strong>如果可以用小的，就用小的</strong>！</li> <li><img src="data:image/png;base64,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" alt="image.png"></li> <li>浮点型：MySQL中常见的浮点类型就三，Float，Double， <strong>Decimal</strong></li> <li><img src="/assets/img/a3453516e3ba47cfa9e89f215fe54a3f.a43629b2.png" alt="image.png"></li> <li>其中Float和Double可以在图中很直观的看到他俩的区别。其中Float还有一个小细节，如果声明时，长度指定的太长，Float也会占用8字节，当长度25~53之间的时候。其中Decimal他并没有明确的指定他占用的大小，会根据声明时指定的(M,D)来决定大小。 decimal(18,9) [999999999.999999999]。根据官方文档可以看出，decimal中的数值是分别将整数和小数做计算。其中9个位置占4字节，细粒度的看这个表，剩余的位置，按照这个图算。</li> <li>​              <img src="data:image/png;base64,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" alt="image.png"></li> <li>如果现在指定decimal(12,7)，整体的数字有12个长度，整数位5个（3字节），小数位7个（4字节)，一共7个字节。一般推荐使用Decimal，他存储的数值相对更精准一些，而且可以根据你需要的范围大小占用不同的空间。</li></ul> <p><strong>字符串类型：</strong></p> <ul><li><strong>char：</strong> 固定长度的字符串，你指定的长度是固定的占用字节的大小。<img src="/assets/img/eb4c04aa9da440218d279293fb583fde.93a58343.png" alt="image.png">
其中，在官方文档中可以看到，char(M)，需要占用 <strong>M × w个字节</strong>  ，w是你声明的字符集类型，其中常用的是utf8mb4，这哥们就代表w是4字节，如果用utf8mb3，w就代表是3字节。</li> <li><strong>varchar：</strong> 可变长度的字符串，会根据你输入的内容长度来计算占用空间的字节大小。<img src="data:image/png;base64,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" alt="image.png">如果你写入的字符串的实际大小是0~255，那么他额外追加1个字节。如果你写入的字符串空间超过了255个字节，那需要额外追加2个字节。对于占用空间大小，当varchar大小超过了255后，其实Text和varchar没啥区别。从占用空间的维度来说，如果固定这个字段的长度一定会超过255，你有用text也一样。</li></ul> <p><strong>时间类型：</strong></p> <ul><li>date：存储年月日</li> <li>datetime：存储年月日 时分秒</li> <li>timestamp：存储年月日 时分秒</li></ul> <p>通过官方文档看到了一个细节，MySQL中的时间类型里，time，datetime，timestamp可以存储时间，并且可以精准到秒的后6位，也就是微秒单位。想精准到秒的后几位，是需要额外的空间存储的。</p> <p><img src="data:image/png;base64,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" alt="image.png"></p> <p>其次，关于这哥三的空间占用大小，可以看这个图。</p> <p>5.6.4的版本是一个分界点~fractional seconds storage的意思就是如果你要精确到秒的后几位，他需要额外占用空间，这个是上面聊的。</p> <p><img src="/assets/img/8582177f5d174c44a799bd2a8df6b7a0.8ca73fb2.png" alt="image.png"></p> <p>datetime和timestamp的区别：</p> <ul><li>关于存储范围的情况
<ul><li>datetime：用到死，到这 <code>'1000-01-01 00:00:00.000000' to '9999-12-31 23:59:59.499999'</code></li> <li>timestamp：用到十几年后，<code>'1970-01-01 00:00:01.000000'</code> to <code>'2038-01-19 03:14:07.499999'</code></li></ul></li> <li>时区的区别
<ul><li>timestamp：你写入的值会从当前时区转换为UTC进行存储，在查询时，会将UTC类型转换为当前系统的时区。</li> <li>datetime：不会关注时区的问题，你写入什么，他就存储什么，检索也一样。</li></ul></li></ul> <p>默认情况下，每个连接的当前时区是服务器的时间，时间可以根据每个连接去设置，只要你保证时区不变，其实也没啥问题。如果你连接的时区变化了，你存储的是timestamp类型，那你再用别的时区查询这个值时，会发生变化。</p></blockquote> <h2 id="二、mysql中innodb逻辑存储结构-常识性的概念"><a href="#二、mysql中innodb逻辑存储结构-常识性的概念" class="header-anchor">#</a> 二、MySQL中InnoDB逻辑存储结构（常识性的概念）</h2> <p>MySQL中的逻辑存储结构如图：</p> <p><img src="/assets/img/2a64fd08a39b48fbbb3e94c754d745c4.59cfdaae.png" alt="image.png"></p> <blockquote><ul><li>表空间：已经覆盖了咱们所有的数据和索引，比如系统表在系统表空间，还有默认表空间…………</li> <li>段：多个段，组成表空间……</li> <li>区：多个区，组成段……一般每个区通常的大小是1MB。</li> <li><strong>页：默认64个连续的页，组成一个区。每个页的默认大小是16kb。</strong></li> <li>行：多行数据都在页里…………</li></ul> <p>其次，MySQL每次去磁盘中读取数据到内存时，每次至少会将一个页的数据加载到内存中。</p> <p>也就是说，在数据库中，不论是读一行，还是读多行，都需要将一个或多个页的数据加载到内存中（Buffer Pool）。页就是MySQL一次IO读取的最小单位。</p> <p>连续的页在针对一些范围查询时，效果更佳。</p></blockquote> <h2 id="三、mysql中的物理存储结构"><a href="#三、mysql中的物理存储结构" class="header-anchor">#</a> 三、MySQL中的物理存储结构</h2> <h3 id="_3-1、5-7-版本"><a href="#_3-1、5-7-版本" class="header-anchor">#</a> 3.1、5.7 版本</h3> <h4 id="_3-1-1、innodb存储引擎"><a href="#_3-1-1、innodb存储引擎" class="header-anchor">#</a> 3.1.1、InnoDB存储引擎</h4> <blockquote><ul><li>表数据：InnoDB的存储引擎，会将表数据和索引放在一个文件里。就是ibd<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnwAAAAdCAIAAAC/uCbXAAAIZ0lEQVR4Ae2c2XITORSG81x5oNzxDDMTsi/EhGFLiGMnwY+QKj9GLuAmL5CCa/DWLjNH0lmkVrcNJB7b/C5XWcvR0dGnlv5Wd2Btgg8IgAAIgAAIgMBcCKzNpRd0AgIgAAIgAAIgMIHo4iIAARAAARAAgTkRgOjOCTS6AQEQAAEQAIE60f348eP1zc3V1VW73b68bDWbzQ8XF+fn5+/Pzq6vr79+/Qp8IAACIAACIAACsxOoE93rm5sxf4rxuCjCt9PpfP78udVuQ3dnBw1LEAABEAABEKgT3aurq/F4PByNhsPRYDgcDIZ99+10Ol++fPn06VOzeQmCIAACIAACIAACMxKoE912u02i6xVXRXfQ6XSO3KdxejpjN3Myu2+sr6037ieTCaU2bqd1e7sRzKcZoh4EQODPJvDQ3X3WuqtgcNfa7T5o3V2r2lStkPozCdSJ7uVlazwe0xlXFXfYHwz6/UGvPxiNipPGy8WiBtFdrPlYlWjuWs/Cx26tUmoKpeyZKQwYqC4t1Z1cWpY2drERk8iNlKa+Df20a3Ipn1KHk0nqM7J3DTONTH//b/KupYBkJBS1EkoGNONorONoiKK5IQHRjfD8akZnSWeOfOmkZiYuYu89OCttFF0Jvxrbb7SrE91ms1l40eUHy/R42SmuF93jk5Pf6PpJm+Kk+6R4/yjnsqP61e7XOa3msBPQavaFWcvAyi//ePOYPHR3XclDdzdsH+qMGbNN1nk2DG5Jv2HXaRkd8rtWEolpM80n1YdoTasFSlptTNIceDwGtx+XhuTRyb1JLuEh8gzR9eFLoo1/gcgsVShmKSSzWH3t+mubp9J4cGtX2kUVc4dSJ7ofLi6KYiyvct0LXTrjum9/NCqOjl/MPeAZO4TozggKZj9FgFd/tGlHGXbHlj7v9uVurHzxPpBvl7ehW323gUQ9Rxl2F365gWZ5Y0oMvUxLZcbn4guKHaxNm8GYpAdQKhAuekMkRaytaVMn3ok4y0YvrZGYiYCdObk71USlD74+aTIsfOuverYr3T5iRZ3onp+fF8XY//GUV1w+5va/90h0D4+Os6GQ4oWPvFe93eAi/9J1MtGSNX396sXSVQU7NeOG7oVt6t8FolJr/DhLiSPudw3vdLMziMI8AblD5pXtzex6Dg3FkvJhjadmaZ5M07I079yL86lhhGgStxQPf1hfqcztUfU+s/FwLwvya2M0abvT2rSPulzCoympbqy5NBnuAK0HXsLNXNkLfn+SgJk5WUFec7v8tsdqqnh37OVqlmK7BKrnWs2fMFUnuu/PzpzoDuQ9bjjm9oLo7h8cZkJT5ZNKEk6RTFcal1DOyyI15vTECaS0Y7/8K941oVWxH/WvKe89CUtdIQUCCQFaqmEvTVZttD/wM13ZdaVWEt5xtDM752H3Nv1GNr589jBiP9kdipz5Ck7Rr4Se3gQklaaDRUpazk4S+QZDEZQHUi6RIRk19ZOrfpwKtFr0csBqc2baxBsSsxGgCeErUW5sJBFWmZkJ9hpmvFRTcSVwszn+1onuu3fvi6Lg0214qtxziutOuqO9/YNcqCRskciW/0g4LRG1lIRz7D3xEZmdlvxLENpaU66Ss0m/SVb8IAECMQG3A5h1HO+qdpfPWHI7a8an37gbJ3L6UKwkBBnnlQIZeY66rq+pHlpVzJG/BcjYwdo0HXbyd00lLU1GobIb+aMnE93ug5Vb3zBmmDhDdlYCopO73a5/Wx7jj3PBq2dPTXnd+YrIWK+EWWN5RLs60X3z9u2oKPgl7qDXpwNu+H7vDUejnb296lBI54L0lrUtLblvrPsTLauj95ua2d6MfynW1ppylZxNHCZZ8YMECBgCmRUarWDVxpKlU0k+aIVftxdoG9ORS6rrxKbkPDmHJuaRX3UaFWeeZ9vHcPpYL4ksdbJYeTtYmza8Sqxiu8x4iH7Fn7160Q0GyWSnW3/GM4qmE+C7GL37oTbZSTOmfIvl/MfGcW56AI9pUSe6r9+8IdHt9eV06xX32/feNye62zu7mVjuG43wD2RZ6tzrW36retugf0hLp1V5cEy5kJEm3jGZccPJ7YZLlv1TI9deW1NKWpqMdeiKNYjMUFAEAhXHO7Nry/o1ZVluYpiImX0yST7CHXrsLs6xf1NqvHOt/saVDw/8b0pJKXx32nGVz9iH+l64lA3UpitPukqheiysqebJAhvjpMsknujXTKJepm5hxodZ1z2Lrhdl1V3jxD9QyszkE8WfuK0T3Vf/vh6NCj3d0jGX5FZE9/n2TuLOZ/3zX3oqLILpBC7+kya1SuykEXnThupMW3pTssmI7saG/PGWcamN1xsNEfvsOFAIAn59RseXsFhp+fsPr17el8WaKwJGXfbxDTu/BY69JTZVzsth5CZNu6ZabcMC78t4C9N6MwIqNNlcLwtSZgcbY5P4dYQEncedjT944KY+G7WA6GbB/W6hzlFE2906xUsl6smILuuua19xJURt55OpE93TV69UdFlrrehubm3NJ0r0AgKrRMCqQtW4ZrGpaovyxyAQNn1W28hlqPNqANGN2CAzhUCd6DZOT+k/Xq7+/r35fIp7VIMACKQEZtHTWWxSv8iDAAgsPoE60T1pvDw+OTk6fnF4dLx/cLi3f7Czt7e9s/t8e2dza+s/xf3rn83FHyEiBAEQAAEQAIEFIVAnugsSIsIAARAAARAAgdUgANFdjXnEKEAABEAABJaAAER3CSYJIYIACIAACKwGAYjuaswjRgECIAACILAEBCC6SzBJCBEEQAAEQGA1CEB0V2MeMQoQAAEQAIElIADRXYJJQoggAAIgAAKrQQCiuxrziFGAAAiAAAgsAQGI7hJMEkIEARAAARBYDQI/AErwPIOzR/+2AAAAAElFTkSuQmCC" alt="image.png"></li> <li>表结构：表结构会放在这个frm的文件中<img src="data:image/png;base64,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" alt="image.png"></li> <li>重做日志（redo log）：用于做崩溃恢复的重要日志之一……<img src="data:image/png;base64,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" alt="image.png"></li></ul> <p>系统元数据：<strong>这个是存储MySQL系统元数据的，和存储引擎无关！！！！</strong></p> <p><img src="data:image/png;base64,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" alt="image.png"></p></blockquote> <h4 id="_3-1-2、myisam存储引擎"><a href="#_3-1-2、myisam存储引擎" class="header-anchor">#</a> 3.1.2、MyISAM存储引擎</h4> <blockquote><ul><li>表数据：在MyISAM中，数据和索引是分开存放的。其中MYD是存储数据的，MYI是存储索引的。<img src="data:image/png;base64,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" alt="image.png"></li> <li>表结构：和InnoDB一样，读是在frm文件中的<img src="data:image/png;base64,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" alt="image.png"></li> <li><strong>重做日志：redo log是InnoDB特有的，MyISAM没有。。。。。。</strong></li></ul> <p>系统元数据：这个是MySQL服务的，无关存储引擎。</p></blockquote> <h3 id="_3-2、8-0-版本"><a href="#_3-2、8-0-版本" class="header-anchor">#</a> 3.2、8.0 版本</h3> <h4 id="_3-2-1-innodb存储引擎"><a href="#_3-2-1-innodb存储引擎" class="header-anchor">#</a> 3.2.1 InnoDB存储引擎</h4> <blockquote><ul><li>表数据：InnoDB中，数据和索引一样还是存在一个文件中。依然是.ibd文件中。<img src="/assets/img/526cf65abe764f1598ebe7cf7e9bdc95.9684f7f9.png" alt="image.png"></li> <li>表结构：在8.0中，frm文件被直接剔除掉了，表结构被直接放到了系统表中。<img src="/assets/img/cfe16e2cfcb842c59aadad47f1f8ef66.39a38cd3.png" alt="image.png"></li> <li>重做日志：redo log，依然存在，存放在这个位置<img src="/assets/img/71ff80c3ebb24963a67ff0fb36232e75.672598b3.png" alt="image.png"></li></ul></blockquote> <h4 id="_3-2-2-myisam存储引擎"><a href="#_3-2-2-myisam存储引擎" class="header-anchor">#</a> 3.2.2 MyISAM存储引擎</h4> <blockquote><ul><li>表数据：和5.7一样，依然是其中MYD是存储数据的，MYI是存储索引的。</li> <li>表结构：也是放到了系统元数据中，也就是information_schame库里。</li></ul></blockquote> <h4 id="_3-2-3-为啥砍掉frm文件"><a href="#_3-2-3-为啥砍掉frm文件" class="header-anchor">#</a> 3.2.3 为啥砍掉frm文件？</h4> <blockquote><ul><li>MySQL8.0推出了一个原子性的DDL操作。针对个原子操作，可以利用information_schame这个库来操作，来确保表定义信息的一致性和可靠性。</li> <li>可以基于information_schame库来统一管理表结构信息。</li> <li>使用了information_schame之后，甚至可以对表结构来做一些加密操作。</li> <li>备份数据时，不需要再去单独的备份frm文件了，元数据库中就有。</li> <li>………………</li></ul></blockquote> <h2 id="四、mysql常见的存储引擎和区别"><a href="#四、mysql常见的存储引擎和区别" class="header-anchor">#</a> 四、MySQL常见的存储引擎和区别</h2> <p>MySQL中最常见的自然就是InnoDB。</p> <p>除此之外就是MyISAM，5.1版本时，那也是默认的存储引擎。。。</p> <p>主要来聊这两个存储引擎的区别，区别其实特别多……………………</p> <p>在8.x的InnoDB和MyISAM中，支持的特性区别。</p> <blockquote><ul><li>关于聚簇索引的支持，InnoDB支持聚簇索引，MyISAM不支持聚簇索引</li> <li>关于数据缓存的支持，InnoDB支持数据缓存扔Buffer Pool，MyISAM不支持。</li> <li>关于外键的支持，InnoDB支持外键，MyISAM不支持外键。</li> <li>关于Hash索引，InnoDB和MyISAM都不支持。但是InnoDB支持一个AHI的自适应hash索引。</li> <li>关于锁的支持，InnoDB支持行锁，而MyISAM只支持表锁。</li> <li>关于MVCC，InnoDB支持，MyISAM不支持。</li> <li>关于存储容量的限制，InnoDB可以支持到64TB，而MyISAM支持到256TB</li> <li>关于事务，InnoDB支持，MyISAM不支持。</li></ul></blockquote> <p>InnoDB：</p> <p><img src="/assets/img/0c123ff2bd2b45bfa1f42c6cd11b432b.1e25cd92.png" alt="image.png"></p> <p>MyISAM：</p> <p><img src="/assets/img/9b175149859e4462a83a5785cebda141.2939b859.png" alt="image.png"></p> <h2 id="mysql-二"><a href="#mysql-二" class="header-anchor">#</a> MySQL.二</h2> <h2 id="一、buffer-pool-在2025中整理了-主要看2025"><a href="#一、buffer-pool-在2025中整理了-主要看2025" class="header-anchor">#</a> 一、Buffer Pool-在2025中整理了,主要看2025</h2> <h2 id="二、change-buffer"><a href="#二、change-buffer" class="header-anchor">#</a> 二、Change Buffer</h2> <h3 id="_2-1-change-buffer是个啥"><a href="#_2-1-change-buffer是个啥" class="header-anchor">#</a> 2.1 Change Buffer是个啥？</h3> <blockquote><p>Change Buffer是针对MySQL中，使用二级索引（非聚簇索引）去写数据时优化的一个策略。是在进行DML操作时的一个优化。</p> <p>如果写的是 <strong>非聚簇索引</strong> ，并且对应的 <strong>数据页没有在Buffer Pool</strong> ，此时他不会立即将磁盘中的数据库页加载到Buffer Pool中。而是先将写操作扔到Change Buffer中，做一个缓冲。</p> <p>等后面，要修改的这个数据页被读取时，再将Change Buffer中的记录合并到Buffer Pool中。<strong>这样就是为了减少磁盘IO次数，提高性能。</strong></p> <p><strong>一级索引不会触发Change Buffer，一级索引速度快，直接把磁盘数据扔到Buffer Pool中，然后内存修改即可。</strong></p> <p>Change Buffer占用的是Buffer Pool的空间，默认占用25%，最大允许到50%。可以根据配置来进行调整。一般25%足够了，除非你的MySQL写多读少，可以适当调大Change Buffer的比例。</p> <p><img src="/assets/img/3751b21f27d742698a72eb8eacfd73f9.9f8bbe92.png" alt="image.png"></p> <p>二级索引修改整体流程：</p> <ul><li>更新一条记录时，当该记录在Buffer Pool缓冲区中时，直接在Buffer Pool中修改对应的页，一次内存操作。（end）</li> <li>如果该记录不在Buffer Pool缓冲区中时，在不影响数据一致性的前提下，InnoDB会将这些更新操作缓存在Change Buffer中，不去磁盘做IO操作。。</li> <li>当下次查询到该记录时，会将这个记录扔到Buffer Pool，然后Change Buffer会将和这个也有关的操作合并，进行修改。</li></ul> <p><img src="/assets/img/38e94ddebd10413dbd3138bbda2228fa.4a8c5fed.png" alt="image.png"></p></blockquote> <h3 id="_2-2-数据到changebuffer后-mysql宕机了咋整"><a href="#_2-2-数据到changebuffer后-mysql宕机了咋整" class="header-anchor">#</a> 2.2 数据到ChangeBuffer后，MySQL宕机了咋整？</h3> <blockquote><p>首先要清楚，当一个事务提交时，InnoDB会将事务的所有更改记录写到redo log（重做日志）中，包括哪些写入到Change Buffer中的内容。咱们的保障是基于redo log实现的，即便宕机，redo log也有完整的信息。当前MySQL还会基于bin log利用2PC的形式，确保数据一致性。</p></blockquote> <h2 id="三、ahi"><a href="#三、ahi" class="header-anchor">#</a> 三、AHI</h2> <h3 id="_3-1-ahi是个啥"><a href="#_3-1-ahi是个啥" class="header-anchor">#</a> 3.1 AHI是个啥？</h3> <blockquote><p>AHI（自适应Hash索引，Adaptive Hash Index），他是InnoDB存储特有的。是一个为了优化查询操作的特殊功能。</p> <p>当AHI发现某些索引值使用的非常的频繁，建立hash索引来提升查询的效率。</p> <p>AHI也是存储再Buffer Pool中的，会在Buffer Pool中开辟一片区域，建议这种自适应hash索引。</p> <p>而且AHI默认是开启的。</p> <p><img src="/assets/img/a172778966eb495fb90479c757d88cdb.2c6c0404.png" alt="image.png"></p> <p>画一个图，掌握这种AHI是啥效果。</p> <p><img src="/assets/img/3b031315620c47b98410aaa4227123e5.accd0f51.png" alt="image.png"></p> <p>AHI的一些参数，不需要做任何调整，默认即可。 在生成AHI的自适应Hash索引后，查询效率可以从B+Tree结构的 <code>O(logn)</code>  提升到  <code>O(1)</code> 的效率。</p></blockquote> <h2 id="四、log-buffer"><a href="#四、log-buffer" class="header-anchor">#</a> 四、Log Buffer</h2> <blockquote><p>Log Buffer是存储要写入到磁盘上的日志文件的一片内存区域。主要是redo log。</p> <p>默认占用16M的大小。可以用过 <code>innodb_log_buffer_size</code>  参数调整。</p> <p>他的目的很简单，就是在你做写操作时，尽量减少日志写入磁盘时的IO损耗，减少IO的次数……</p></blockquote> <h2 id="五、redo-log"><a href="#五、redo-log" class="header-anchor">#</a> 五、redo log</h2> <h3 id="_5-1-redo-log是个啥"><a href="#_5-1-redo-log是个啥" class="header-anchor">#</a> 5.1 redo log是个啥？</h3> <blockquote><p>redo log（重做日志）是InnoDB独有的。它让MySQL用于了崩溃回复的能力（一般配合bin log）。也就是MySQL宕机后，他可以根据redo log来恢复近期的数据，保证之前还没有写入到磁盘中的数据不会丢失，保证持久性和完整性。</p> <p><img src="/assets/img/c0a503e9190b43d89ed6be2b2abfe92a.9a342d31.png" alt="image.png"></p></blockquote> <h3 id="_5-2-redo-log以什么形式存储的。"><a href="#_5-2-redo-log以什么形式存储的。" class="header-anchor">#</a> 5.2 redo log以什么形式存储的。</h3> <blockquote><p>redo log可以在本地磁盘中直接看到</p> <p><img src="data:image/png;base64,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" alt="image.png"></p> <p>通过这个文件，可以看到，redo log是一个文件组的形式存在的，5.7里默认是2个文件，可以配置为多个文件。每个文件的大小是一样的。</p> <p>默认情况下，可以看到，我现在环境里的redo log都存满了，默认大小是48M。</p> <p><img src="data:image/png;base64,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" alt="image.png"></p> <p>其实在写入数据到redo log文件中时，为了提升他的写入性能，他的特点是 <strong>顺序写</strong> 的操作。</p> <p>在写redo log文件的时候，他会有两个指针</p> <ul><li>write pos（应该没问题）：是记录当前要写入的位置，一边写入，这个指针一边往后移动</li> <li>check point：记录当前要擦除的位置，一边删，一边往后移。</li></ul> <p>比如，模拟两个文件组的形式。</p> <p><img src="/assets/img/dc2830e6bd4e4ebeb7687ff4b6882858.c6c09809.png" alt="image.png"></p></blockquote> <h3 id="_5-3-数据为何不直接落到具体的表中-而是优先写入到redo-log"><a href="#_5-3-数据为何不直接落到具体的表中-而是优先写入到redo-log" class="header-anchor">#</a> 5.3 数据为何不直接落到具体的表中，而是优先写入到redo log</h3> <blockquote><p>首先第一点，通过1.1里面聊的内容，知道了redo log是顺序写的操作，他不需要在内存中去做寻址操作，就沿着write pos去写就完事了，省去了寻址操作，速度自然快一些。</p> <p>如果你要直接落到具体的表中，表再磁盘中的位置是随机的，你需要做各种寻址操作，这样的操作会影响到你提交事务的效率。</p> <p>而且，如果你要回滚事务，还得再做这种寻址操作…………</p></blockquote> <h3 id="_5-4-redo-log如何保证数据的完整。"><a href="#_5-4-redo-log如何保证数据的完整。" class="header-anchor">#</a> 5.4 redo log如何保证数据的完整。</h3> <blockquote><p>首先，现在知道一个事情，MySQL写操作不会立即将数据落到磁盘上，无论是数据还是日志。</p> <p>比如数据，他优先走Change Buffer以及Buffer Pool的内存中，也是MySQL优化的手段，减少IO的消耗。</p> <p>所有，为了保证数据的完整和持久性，在修改Change Buffer和Buffer Pool中的数据时，数据会优先落到redo log中。</p> <p>写入的流程，如下</p> <p><img src="/assets/img/d4474d9520f446a2846641bf8795ed7d.8943e9f7.png" alt="image.png"></p> <p>我只需要知道第4步的触发时机即可。</p> <p><strong>redo log大概存储表空间号 + 数据页号 + 偏移量 + 具体修改的数据………………</strong></p> <p>而Log Buffer中的数据刷到磁盘中，一般主要由这个参数控制</p> <p><img src="/assets/img/6ebd301f2ede4e68bcbc40428adbd657.e1eb2b1e.png" alt="image.png"></p> <p>他的默认值是1。他可以提供三种值：</p> <ul><li>0： 设置为0的时候，表示每次事务提交不刷盘……</li> <li>1： （默认值）设置为1的时候，表示每次事务提交后，会立即进行刷盘操作……</li> <li>2：设置为2的时候，标识每次事务提交，我需要将Log Buffer中的数据刷到系统内存中……</li></ul> <p>就用1，别用别的，别的会导致丢失数据…………</p> <p>刷盘的流程大致长这样</p> <p><img src="/assets/img/ebdfbc211f4d4f2f9f8d90b2b6d06bb5.b955a9a4.png" alt="image.png"></p> <p>下面详细的把，0，1，2的配置的刷盘套路各画一个图。</p> <ul><li>当设置为0的时候，没有任何机制会主动刷新，只能靠后台提供的一个线程，每一秒刷新Log Buffer数据到File Cache<img src="/assets/img/0bd64e9cb6da41ec9c29cf22bed7a6d6.18d7fdb7.png" alt="image.png"></li> <li>当设置为1的时候，只要提交事务，就一定会确保Log Buffer中的数据，落到File Cache并且，必须序列化到本地磁盘文件<img src="/assets/img/d83c06323ffa4e12b4a3e3f8a18a3aa3.11e199f4.png" alt="image.png"></li> <li>设置为2时，提交事务后，会确保Log Buffer的数据，一定要了File Cache中。<img src="/assets/img/03e256f55de7423792dbe02f54344453.a99eced8.png" alt="image.png"></li></ul></blockquote> <h2 id="mysql-三"><a href="#mysql-三" class="header-anchor">#</a> MySQL.三</h2> <h2 id="二、bin-log"><a href="#二、bin-log" class="header-anchor">#</a> 二、bin log</h2> <h3 id="_2-1-bin-log干啥的"><a href="#_2-1-bin-log干啥的" class="header-anchor">#</a> 2.1 bin log干啥的？</h3> <blockquote><p>bin log不是属于某一个存储引擎的日志，他是MySQL服务层的一个日志文件。</p> <p>可以在MySQL官方文档里看到全程Binary Log</p> <p><img src="/assets/img/3517119e315b42cabcf59d629b2ef5f1.adc4747e.png" alt="image.png"></p> <p>bin log是逻辑日志，记录的内容是你执行的一个语句的原始逻辑，类似给 <strong>ID = 1这一行的 age字段 加1。</strong></p> <p>MySQL数据库的 <strong>数据备份，主从同步，崩溃恢复</strong> 这些操作都基于bin log去实现的，需要依赖bin log做数据的同步，保证数据的一致性。</p></blockquote> <h3 id="_2-2-bin-log的日志存储形式"><a href="#_2-2-bin-log的日志存储形式" class="header-anchor">#</a> 2.2 bin log的日志存储形式</h3> <blockquote><p>通过官方文档可以看到，bin log提供了三种格式来存储信息。 通过 binlog_format指定存储的形式</p> <p><img src="/assets/img/535892015f834e299714aa6471e5a090.7a719dd8.png" alt="image.png"></p> <p><strong>statement：</strong> 如果指定statement记录，会记录的内容是 <strong>SQL语句的原文</strong> ，比如你在修改语句中涉及到了一些函数，比如 <strong>now()</strong>，在恢复数据时，如果是基于statement形式存储的bin log恢复的话，可能会造成重新执行 <strong>now()</strong> 函数，会斗导致时间会更新为当前系统时间，和原数据的时间 <strong>不一致</strong> 。</p> <p><strong>row（默认）：</strong> 这个是默认的，他记录的内容不但具备SQL语句的内容，还会记录 <strong>当前行的具体数据</strong> ，他不会有函数之后的时间不一致的问题。 他记录的内容 <strong>不会存在不一致</strong> 的问题，但是他需要记录的内容更多，<strong>占用的空间也会更大</strong> ，自然同步的时候，需要的时间也就更多……</p> <p><strong>mixed：</strong> mixed类似是在statement和row中做了一个 <strong>权衡</strong> ，如果设置为mixed，他会基于MySQL服务自行判断，当前数据是否会引起不一致的问题，如果没有不一致问题，用statement方式，如果可能存在不一致的问题，那就使用row。</p></blockquote> <h3 id="_2-3-bin-log的存储数据的时机"><a href="#_2-3-bin-log的存储数据的时机" class="header-anchor">#</a> 2.3 bin log的存储数据的时机？</h3> <blockquote><p>bin log存储日志文件到磁盘的套路和redo log有点类似，在InnoDB中，也会和事务挂钩，同时bin log也有一个binlog cache的东西。在事务提交后，会将binlog cache中的内容存储到bin log文件中。</p> <p>因为一个事务中的bin log不能拆，无论多大的事务，也要保证一次性写入，所以MySQL会给每一个线程分配一块binlog cache的空间。</p> <p>binlog cache的大小咱们可以自己指定，发现，binlog_cache_size的空间不大，就32kb，如果一个长事务，或者涉及 到操作的数据比较大，一个binlog_cache_size的空间不足，怎么办？</p> <p>不用怕，如果查过了binlog_cache_size的空间，他会自动再次扩容内存，但是会有一个限制，不能超过max_binlog_cache_size这个参数的值，但是这个参数的值，贼大，基本不用考虑长事务或者数据量大的操作导致binlog_cache_size爆炸的问题………… 当然，咱们也要尽可能的规避这种长事务的情况……</p> <p><img src="/assets/img/cfdafdc7bb9f452cb976b8d154d66c1f.9306b5f2.png" alt="image.png"></p></blockquote> <hr> <blockquote><p>关于binlog cache的整体写入文件系统的流程：</p> <p><img src="/assets/img/59e948728f5e4cf0ba83f1b5453f7b28.9ff1cbdf.png" alt="image.png"></p> <p>关于binlog cache中的数据什么时候写入到磁盘，是根据配置决定的：</p> <p><img src="/assets/img/1b6766e9a6814b29b7d2547eb3ca0fac.07e6425b.png" alt="image.png"></p> <p>整个同步的配置默认值是1，在官方也看到可以设置为0</p> <ul><li>0：设置为0时，表示每次提交事务都只会做write操作，将binlog cache中的数据甩到系统的内存中，至于系统什么时候执行fsync持久化到磁盘，由系统自行控制。</li> <li>1（默认值）：设置为1时，标识每次提交事务都会执行fsync操作，确保binlog cache中的数据一定能落到本地的磁盘中。数据是完整的。</li> <li>最后一个方式就是可以设置为大于1的值N，几都成。这种方式每次提交事务都会做write操作，当积累了N个事务才会主动的去做fsync操作。最惨的情况，就是丢失了N个事务的数据。优点就是，可以解决一部分IO瓶颈的问题。</li></ul></blockquote> <h2 id="三、两阶段提交"><a href="#三、两阶段提交" class="header-anchor">#</a> 三、两阶段提交</h2> <h3 id="_3-1-mysql为啥要有2pc"><a href="#_3-1-mysql为啥要有2pc" class="header-anchor">#</a> 3.1 MySQL为啥要有2PC？</h3> <blockquote><p>看到这个词，第一个想到的应当是分布式事务的一些解决方案。在MySQL中也存在一个类似的问题，也是关于数据不一致的点。在恢复数据时，单单看redo log或者单看bin log都会存在问题。恢复时，这哥俩都需要看一下，其中以bin log为主。</p> <p>redo log让InnoDB存储引擎拥有了崩溃恢复的能力。</p> <p>bin log保证MySQL集群架构的数据一致性。</p> <p>虽然他们都属于持久化的保证，但是侧重点还有一些不同的。</p> <p>举个栗子：</p> <p>在执行更新操作时，并且有事务操作时，会记录redo log和bin log两个文件，redo log在事务的执行过程中就会 <strong>不断的写入</strong> 。而bin log只有 <strong>提交事务的时候写入</strong> ，才会执行write操作以及fsync的操作落到磁盘中。</p> <p><img src="/assets/img/7420215be45944bcb28e055b41e3c988.0eb52ba8.png" alt="image.png"></p> <p>如果redo log和bin log在记录日志时，他们之间的数据不一致，会出现问题？</p> <p>举个具体的栗子：</p> <p>现在执行update语句，假设id = 1的一行数据，字段age是18，在执行修改操作，将age修改为38。</p> <p><code>SQL：update table set age = 38 where id = 1</code></p> <p>假设redo log在没提交事务的时候，就将 <strong>age = 38</strong> 持久化到了redo log文件中</p> <p>但是因为事务没正常提交，发生了异常，数据没有落到bin log中，bin log还是之前的 <strong>age = 18</strong> 。</p> <p><img src="/assets/img/00e5ad1b3aaf447d9a6086b652ab0b27.82e9bffc.png" alt="image.png"></p> <p>之后，MySQL崩溃了。此时重启MySQL需要恢复数据。</p> <p>此时主库和从库可能就会出现数据不一致的问题。</p> <p><img src="/assets/img/67cc2e46bd8646cd82bd1a7f29e7fad5.f522c636.png" alt="image.png"></p> <p>此时就需要2PC来帮助咱们解决这个问题。。。</p></blockquote> <h3 id="_3-2-mysql的两阶段提交如何解决的上述问题"><a href="#_3-2-mysql的两阶段提交如何解决的上述问题" class="header-anchor">#</a> 3.2 MySQL的两阶段提交如何解决的上述问题？</h3> <blockquote><p>原理非常的简单，就是将redo log的写入拆成了两个部署 <strong>prepare</strong> 和 <strong>commit</strong> ，这就是两阶段提交。</p> <p>事务还未提交时，redo log中的数据是prepare阶段，而当你真正的提交了事务之后数据才是commit阶段。</p> <p><img src="/assets/img/d8130191193347e7818c83961649ef99.6f8a0bfb.png" alt="image.png"></p> <p>在知道两阶段提交的效果之后，写入bin log时发生异常也不会与影响。</p> <p>因为MySQL根据redo log日志恢复时，查看一下redo log中的提交状态， <strong>如果是prepare阶段，并且在bin log中没有对应内容</strong> ，这个数据会被回滚。</p> <p><img src="/assets/img/402dc28057ab4b7298b941ab9763b887.77d4cfcd.png" alt="image.png">下一个例子，如果现在redo log在设置日志状态为commit时，出现了异常，但是bin log正常的写入到了系统文件中。</p> <p>现在出现了这个情况，redo log存储了age = 38，但是是prepare阶段。 bin log中存储了age = 38。</p> <p><img src="/assets/img/47010790ef75401ba7744d38c0288b3a.3f07949d.png" alt="image.png">这种情况，就是发现age = 38再redo log是prepare阶段，但是发现bin log中有完整的数据，那么此时这个数据不会回滚，会按照bin log的数据同步。</p> <p><img src="/assets/img/56d192fe2d4c42eea3edbd552072cb35.b4096eb5.png" alt="image.png"></p> <p><strong>在恢复数据时，以bin log为主。</strong></p></blockquote> <h2 id="四、undo-log"><a href="#四、undo-log" class="header-anchor">#</a> 四、undo log</h2> <h3 id="_4-1-undo-log干啥的"><a href="#_4-1-undo-log干啥的" class="header-anchor">#</a> 4.1 undo log干啥的？</h3> <blockquote><p>undo log属于InnoDB存储引擎的一个日志文件。</p> <p>存储数据的一些历史版本，一方面是为了做事务回滚时，可以找到需要 <strong>回滚</strong> 到的数据内容，另一个方面是<strong>MVCC</strong>的多版本并发控制操作时，需要读取快照信息，就要在undo log里面去读。</p> <p>事务的四大特性，有一个是原子性，具体来说 <strong>原子性是指数据库的一系列操作，要么全部成功，要么全部失败，不可能出现部分成功的情况。</strong></p> <p>咱们知道如果要保证事务的原子性，就需要在出现异常时，对已经执行的修改操作进行回滚，在MySQL中，回复机制就是通过 undo log（回滚日志）实现。</p> <p>为了确保即便数据库宕机，也能恢复到之前的版本，undo log在事务还未提交时，数据就已经落到磁盘中了。</p></blockquote> <h3 id="_4-2-事务的四大特性-常识-必会"><a href="#_4-2-事务的四大特性-常识-必会" class="header-anchor">#</a> 4.2 事务的四大特性（常识，必会！）</h3> <blockquote><p>原子性： <strong>原子性是指数据库的一系列操作，要么全部成功，要么全部失败，不可能出现部分成功的情况。</strong></p> <p>一致性： <strong>事务提交后，预期的结果和最终的结果是一致的。/ 事务的结果必须使数据库从一个正确状态转为为另一个正确状态。/ 事务开始前后，数据库中的数据必须满足所有定义的完整性约束条件。</strong></p> <p>隔离性： <strong>每个事务都是相互隔离，独立存在的，事务之间的并发操作不会影响到彼此。具体隔离成啥样，得看事务的隔离级别。</strong></p> <p>持久性：<strong>事务提交后，做的修改是永久性的，会保存到磁盘中。</strong></p></blockquote> <h3 id="_4-3-事务的并发会产生的问题-常识-必会"><a href="#_4-3-事务的并发会产生的问题-常识-必会" class="header-anchor">#</a> 4.3 事务的并发会产生的问题（常识，必会！）</h3> <blockquote><p>脏读：<strong>读到了其他活跃事务，未commit的数据。</strong></p> <p>不可重复读： <strong>在一次事务中，多次查询同一数据，结果不一致（因为其他事务修改了这个数据）。</strong></p> <p>幻读、虚读：<strong>在一次事务中，多次查询同一数据，结果不一致（因为其他事务增删了这个数据）。</strong></p></blockquote> <h3 id="_4-4-mysql的事务隔离级别-常识-必会"><a href="#_4-4-mysql的事务隔离级别-常识-必会" class="header-anchor">#</a> 4.4 MySQL的事务隔离级别（常识，必会！）</h3> <blockquote><p><strong>读未提交（Read Uncommitted）：</strong> 会读到未提交事务的数据。（啥问题都不能解决）</p> <p><strong>读已提交（Read Committed，RC）：</strong> 可以读到已提交事务的数据。（能解决脏读）</p> <p><strong>可重复读（Repeatable Read，RR）：</strong> MySQL的默认隔离级别。（能解决脏读和不可重复读）</p> <p><strong>串行化（Serializable）：</strong> 啥问题都能解决，但是事务之间并发会上锁。</p></blockquote> <h2 id="mysql-四"><a href="#mysql-四" class="header-anchor">#</a> MySQL.四</h2> <h2 id="一、mvcc"><a href="#一、mvcc" class="header-anchor">#</a> 一、MVCC</h2> <h3 id="_1-1-mvcc是个啥"><a href="#_1-1-mvcc是个啥" class="header-anchor">#</a> 1.1 MVCC是个啥？</h3> <blockquote><p>MVCC（Multi Version Concurrency Control），多版本并发控制。</p> <p>他就是一种提升并发能力的技术。 最早的时候操作，基本只有读读是可以并发执行的。只要涉及到了写操作，那就必须要阻塞。</p> <p>但是引入了MVCC之后，咱们可以做到读写，写读的并发。但是写写依然是互斥的。</p> <p>在MVCC内部，是基于InnoDB通过undo log保存的数据记录的版本信息来实现的。每个事务读到的数据版本可能会不一样。在同一个事务中，用户只能看到当前事务创建快照前就已经提供了的数据，以及事务本身操作的数据。</p> <p>MVCC在 Read Committed以及Repeatable Read中才会使用到。</p> <p>MVCC的实现是基于三点来玩的：<strong>隐藏字段、undo log、Read View</strong> 这三者配合实现的。</p></blockquote> <h3 id="_1-2-隐藏字段是个啥"><a href="#_1-2-隐藏字段是个啥" class="header-anchor">#</a> 1.2 隐藏字段是个啥？</h3> <blockquote><p>InnoDB向数据库中存储的每一行添加了三个字段：</p> <p><strong>DB_TRX_ID：</strong> 标识最近一次对当前行数据做修改（Insert，Update）的事务ID。至于delete操作，属于Update。事务ID是递增的~~</p> <p><strong>DB_ROLL_PTR：</strong> 回滚指针，undo log中记录的多个版本之间，使用DB_ROLL_PTR来连接上。</p> <p><strong>DB_ROW_ID：</strong> 如果表里没有主键，没有非空唯一索引，那么这个隐藏字段会作为聚簇索引存在。这玩应和MVCC关系不大，了解即可。</p> <p><img src="/assets/img/1249046e06a64eeda6eb3032689e9044.3a42a2e3.png" alt="image.png"></p></blockquote> <h3 id="_1-3-undo-log存储的数据结构"><a href="#_1-3-undo-log存储的数据结构" class="header-anchor">#</a> 1.3 undo log存储的数据结构</h3> <blockquote><p>比如现在有一张user表，里面有id，name两个字段。现在数据存在一条，id = 1，name = 张三</p> <p>如果，现在长这样</p> <p><img src="/assets/img/bd104e105a0c46bca7054dc2cde77b74.99ca92d6.png" alt="image.png"></p> <p>现在有一个事务ID为2，要修改这个数据，将name修改为李四</p> <ul><li>获取互斥锁</li> <li>需要先将当前数据行复制到undo log中，作为旧版本。</li> <li>复制完毕后，将张三修改为李四，并且将DB_TRX_ID修改为2，并且将回滚指针指向undo log里的旧版本</li> <li>提交事务后，释放锁。</li></ul> <p><img src="/assets/img/dce1f2bb5a234847accfe7c723a38d82.ddb9c7aa.png" alt="image.png"></p> <p>现在又来了一个事务ID为3，修改这行数据，将李四修改为王五</p> <ul><li>获取互斥锁</li> <li>需要先将当前数据行复制到undo log中，作为旧版本。</li> <li>复制完毕后，将李四修改为王五，并且将DB_TRX_ID修改为3，并且将回滚指针指向undo log里的旧版本</li> <li>提交事务，释放锁</li></ul> <p><img src="/assets/img/20629e0aeb9f48ae9b6ebbe62fa75061.b97559e5.png" alt="image.png"></p></blockquote> <h3 id="_1-4-read-view内部结构存储了个啥"><a href="#_1-4-read-view内部结构存储了个啥" class="header-anchor">#</a> 1.4 Read View内部结构存储了个啥？</h3> <blockquote><p>Read View其实和快照是一个意思。</p> <p>Read View是读操作中的可见性判断的核心，也就是当前事务能不能读取undo log中的某行数据以及当前行数据。Read View内部还维护的很多的属性以及逻辑。</p> <p>在开启事务后， <strong>执行第一个select操作后</strong> ，会创建一个Read View，也就是快照。</p> <p>在Read View中会保存不应该被当前事务看到的，其他 <strong>活跃事务的列表</strong> 。</p> <p>当用户在这个事务中要读取某行记录时，InnoDB会将该行的 <strong>DB_TRX_ID</strong> 和 <strong>Read View</strong> 中的一些变量去做比较，判断当前数据能否查看到。</p> <p>要查看一下Read View 里面的存储结构信息。</p> <p>https://github.com/facebook/mysql-8.0/blob/8.0/storage/innobase/include/read0types.h</p> <p><img src="/assets/img/42b79df13cf84da8a2901952637d38d0.3c9493f9.png" alt="image.png"></p> <p>这四个属性中，分别聊一下：</p> <ul><li><strong>m_creator_trx_id：</strong> 当前事务的TRX_ID，也就是事务ID
<ul><li>人话：当前事务的ID，当前事务要创建这个Read View快照。</li></ul></li> <li><strong>m_ids：</strong> 创建快照时，处于活跃事务的ID集合。
<ul><li>人话：未提交事务的事务的集合。因为事务没提交，所以这里的数据是不可见的。并且活跃事务列表不会记录当前事务。</li></ul></li> <li><strong>m_low_limit_id：</strong> 读取时不应看到任何trx id&gt;=此值的事务。换句话说，这是“高水位线”
<ul><li>人话：当前行数据的事务ID，大于等于m_low_limit_id，数据是不可见的。说白了，当前事务在创建Read View快照时，这个事务他还没开始呢，他的数据必然是不可见的。通过查看m_low_limit_id的赋值，<strong>可以得知他是还未被分配的事务的最小事务ID</strong> ，<strong>其实就是最大活跃事务 + 1。</strong></li></ul></li> <li><strong>m_up_limit_id：</strong> 读取应该看到所有严格小于（&lt;）此值的trx id。换句话说，这是低水位线”
<ul><li>人话： <strong>他是活跃事务列表中的最小事务ID</strong> ，比这个事务ID还要小的值，他事务必然已经提交了，所以如果当前行数据的事务ID 小于 m_up_limit_id，我是可见的。如果活跃事务列表为空，m_up_limit_id = m_low_limit_id。</li></ul></li></ul> <p><img src="/assets/img/d5acb2bee9c4408f93f315b84d6a8ac2.4b33d942.png" alt="image.png"></p> <p><strong>在RC的隔离级别下，每次执行select操作时，都会创建一个全新的Read View。</strong></p> <p><strong>在RR的隔离级别下，只有第一次select操作时，会创建Read View，后续再查询，都基于第一次的Read View做可见性判断。</strong></p></blockquote> <h3 id="_1-5-readview可见性判断的逻辑"><a href="#_1-5-readview可见性判断的逻辑" class="header-anchor">#</a> 1.5 ReadView可见性判断的逻辑</h3> <blockquote><p>在源码中，可以看到可见性判断的逻辑</p> <div class="language-C extra-class"><pre class="language-c"><code><span class="token comment">// id参数，是你想查看的那行数据的事务ID</span>
bool <span class="token function">changes_visible</span><span class="token punctuation">(</span>
	<span class="token class-name">trx_id_t</span>		id<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token class-name">table_name_t</span><span class="token operator">&amp;</span>	name<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token function">MY_ATTRIBUTE</span><span class="token punctuation">(</span><span class="token punctuation">(</span>warn_unused_result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token function">ut_ad</span><span class="token punctuation">(</span>id <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// m_up_limit_id 是活跃事务的最小id，如果当前行的事务ID，小于m_up_limit_id，说明这个事务必然已经提交了，这个数据是可见的。</span>
	<span class="token comment">// 如果当前行的事务ID和当前创建ReadView的事务ID相等，说明就是当前事务修改的数据，必然可见。</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>id <span class="token operator">&lt;</span> m_up_limit_id <span class="token operator">||</span> id <span class="token operator">==</span> m_creator_trx_id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span><span class="token punctuation">(</span>true<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token function">check_trx_id_sanity</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 当前行的事务ID，大于了m_low_limit_id，必然不可见。创建Read View的时候，m_low_limit_id这个事务还没有呢。</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>id <span class="token operator">&gt;=</span> m_low_limit_id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span><span class="token punctuation">(</span>false<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 没有活跃事务，并且当前行数据的事务ID，还小于m_low_limit_id，那这个数据必然可见。</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>m_ids<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span><span class="token punctuation">(</span>true<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">const</span> <span class="token class-name">ids_t</span><span class="token operator">::</span>value_type<span class="token operator">*</span>	p <span class="token operator">=</span> m_ids<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 如果上述情况都不满足，无法判断可见还是不可见，此时需要拿着当前行的事务ID，以及活跃事务列表开始判断。</span>
 <span class="token comment">// 1、如果我发现当前行的事务ID，在活跃事务列表中。此时在Read View来说，这个事务没提交，不可见。</span>
 <span class="token comment">// 2、如果我发现当前行的事务ID，不在活跃事务列表中，说明创建Read View时候，你就提交了，可见。</span>
	<span class="token keyword">return</span><span class="token punctuation">(</span><span class="token operator">!</span>std<span class="token operator">::</span><span class="token function">binary_search</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> p <span class="token operator">+</span> m_ids<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>各种例子：</p> <p>1、id &lt; up_limit_id，直接可见。</p> <p><img src="/assets/img/b156c0e8c6d8433dac08f890153161a6.85a81cb3.png" alt="image.png"></p> <p>2、RC隔离级别下，第二次查询会重新创建Read View，可以读取到刚刚提交事务的数据</p> <p><img src="/assets/img/710e3caeca904353a89793694837677c.0558699e.png" alt="image.png"></p> <p>3、RR隔离级别下，第二次查询不会重新构建Read View，新数据不可见。</p> <p><img src="/assets/img/11fbb1ca19bf4cea959708b2e9b7fd12.495f6f08.png" alt="image.png"></p> <p>4、当前行事务ID不在活跃事务列表中。</p> <p><img src="/assets/img/d1c13e1783a444dca55766c9d1584b03.2e561f50.png" alt="image.png"></p></blockquote> <hr> <table><thead><tr><th>事务A</th> <th>事务B</th></tr></thead> <tbody><tr><td>查询数据</td> <td></td></tr> <tr><td></td> <td>修改了这个数据，并且提交事务</td></tr> <tr><td>再次查询数据</td> <td></td></tr></tbody></table> <p>事务A，能传到事务B提交的数据么？</p> <p>面试被问到的话，先问是RC还是RR的隔离级别。~~~</p> <h2 id="二、mysql主从同步的原理"><a href="#二、mysql主从同步的原理" class="header-anchor">#</a> 二、MySQL主从同步的原理</h2> <p><img src="/assets/img/8bbfef2fdfc44e96a18542c8035619ff.8a85a115.png" alt="image.png"></p> <blockquote><p>MySQL的主从同步的过程中，要从几个维度聊。</p> <ul><li>你的Master在做写操作时，会将写操作记录到bin log中。</li> <li>你的Slave从库会监听Master节点中的bin log的变化，如果有变化。
<ul><li>Slave需要主动的找Master节点要bin log中的数据，发起请求</li> <li>Master会将bin log的内容发送给Slave。</li></ul></li> <li>Slave接收到bin log信息后，不会立即同步，会扔到relay log中缓冲一下。</li> <li>Slave再从Relay log中将数据同步到Slave中。</li></ul></blockquote> <h2 id="三、mysql主从同步必然有延迟-怎么办"><a href="#三、mysql主从同步必然有延迟-怎么办" class="header-anchor">#</a> 三、MySQL主从同步必然有延迟，怎么办？</h2> <p>只能尽量的减少延迟，想解决的话，同步的成本很高。</p> <p>如果必须要数据强一致，那就不能用主从的效果，自己搞一个众生平等的套路。</p> <p>让写数据的时，同步写到多个MySQL节点中，都成功才成功！但是这样，写操作的效率必然大打折扣！（基本没有这么干的）</p> <p>但是一般情况下，大多是尽可能的提升主从同步的效率。。。</p> <ul><li>优化查询等其他操作，让出服务器资源，避免影响同步时的资源被占用…………</li> <li>规避大事务，别一次同步大量数据，这个成本也高…………</li> <li>MySQL从库同步时，可以指定多线程同步，提升效率：https://dev.mysql.com/doc/refman/8.0/en/replication-options-replica.html#sysvar_replica_parallel_workers    （搜workers）</li> <li>bin log同步可以指定具体的库，减少不必要的同步操作。https://dev.mysql.com/doc/refman/8.0/en/replication-options-replica.html#--replicate-do-db      （搜do-db）</li> <li>服务器的资源给力点，网络的带宽大一点，磁盘必然上固态，多多监控一下，如果有延迟时间长的点，排查一下………………</li> <li>半同步复制的套路………………</li></ul> <h2 id="n、bin-log、undo-log存哪了-了解"><a href="#n、bin-log、undo-log存哪了-了解" class="header-anchor">#</a> N、bin log、undo log存哪了？（了解）</h2> <blockquote><p>bin log、undo log存哪了？</p> <p>存到磁盘是必然的。</p> <p>其次，bin log是你指定存在哪个位置，他就存在哪个位置。</p> <p><img src="/assets/img/3c8ebe5118d4413ba1daf6f7b33ea468.daf158fe.png" alt="image.png">undo log根据版本不同，存放的位置也各不一样。</p> <p>在8.0之后，会有一个单独的undo log的目录，来存放undo log文件。</p> <p>之前的版本也会存放到ibdata1文件中…………</p></blockquote></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/面试突击班/Mysql.html" class="prev">
        Mysql
      </a></span> <span class="next"><a href="/面试突击班/并发编程2025.html">
        并发编程-2025
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.e6553dd9.js" defer></script><script src="/assets/js/2.f327c6f6.js" defer></script><script src="/assets/js/1.65890b21.js" defer></script><script src="/assets/js/10.28da0279.js" defer></script>
  </body>
</html>
