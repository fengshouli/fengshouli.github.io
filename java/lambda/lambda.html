<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>lambda | 冯手力-java学习之路</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.49d708b7.css" as="style"><link rel="preload" href="/assets/js/app.4bcd492b.js" as="script"><link rel="preload" href="/assets/js/2.8fdba881.js" as="script"><link rel="preload" href="/assets/js/1.54dbed7e.js" as="script"><link rel="preload" href="/assets/js/67.969dec50.js" as="script"><link rel="prefetch" href="/assets/js/10.fbd1c150.js"><link rel="prefetch" href="/assets/js/100.23f70170.js"><link rel="prefetch" href="/assets/js/101.7712066d.js"><link rel="prefetch" href="/assets/js/102.495dfb59.js"><link rel="prefetch" href="/assets/js/103.33ada265.js"><link rel="prefetch" href="/assets/js/104.a084c126.js"><link rel="prefetch" href="/assets/js/105.359fff21.js"><link rel="prefetch" href="/assets/js/106.e5f0ea78.js"><link rel="prefetch" href="/assets/js/107.2bb91f9f.js"><link rel="prefetch" href="/assets/js/108.74b36701.js"><link rel="prefetch" href="/assets/js/109.d55485a6.js"><link rel="prefetch" href="/assets/js/11.42ed8b2e.js"><link rel="prefetch" href="/assets/js/110.519badaa.js"><link rel="prefetch" href="/assets/js/111.9e87b884.js"><link rel="prefetch" href="/assets/js/112.63f549e3.js"><link rel="prefetch" href="/assets/js/113.33579d76.js"><link rel="prefetch" href="/assets/js/114.fb291443.js"><link rel="prefetch" href="/assets/js/115.8f269171.js"><link rel="prefetch" href="/assets/js/116.b0a2d99b.js"><link rel="prefetch" href="/assets/js/117.df326183.js"><link rel="prefetch" href="/assets/js/118.246d9ce4.js"><link rel="prefetch" href="/assets/js/119.95353bee.js"><link rel="prefetch" href="/assets/js/12.bf3ac8be.js"><link rel="prefetch" href="/assets/js/13.443a1262.js"><link rel="prefetch" href="/assets/js/14.0939f869.js"><link rel="prefetch" href="/assets/js/15.fcada69f.js"><link rel="prefetch" href="/assets/js/16.5c06248f.js"><link rel="prefetch" href="/assets/js/17.2f057810.js"><link rel="prefetch" href="/assets/js/18.feb70542.js"><link rel="prefetch" href="/assets/js/19.8604b0d1.js"><link rel="prefetch" href="/assets/js/20.d8fe0666.js"><link rel="prefetch" href="/assets/js/21.532dc883.js"><link rel="prefetch" href="/assets/js/22.36b39384.js"><link rel="prefetch" href="/assets/js/23.b2ac4539.js"><link rel="prefetch" href="/assets/js/24.fc928307.js"><link rel="prefetch" href="/assets/js/25.a846d76f.js"><link rel="prefetch" href="/assets/js/26.139b770d.js"><link rel="prefetch" href="/assets/js/27.716f598f.js"><link rel="prefetch" href="/assets/js/28.ed205924.js"><link rel="prefetch" href="/assets/js/29.59dc65ee.js"><link rel="prefetch" href="/assets/js/3.56cc2b82.js"><link rel="prefetch" href="/assets/js/30.daccf7fa.js"><link rel="prefetch" href="/assets/js/31.63bc47c5.js"><link rel="prefetch" href="/assets/js/32.05ec6cfb.js"><link rel="prefetch" href="/assets/js/33.b4f5a7a7.js"><link rel="prefetch" href="/assets/js/34.b4126ccf.js"><link rel="prefetch" href="/assets/js/35.7c9529cc.js"><link rel="prefetch" href="/assets/js/36.e48bc3fc.js"><link rel="prefetch" href="/assets/js/37.092c1958.js"><link rel="prefetch" href="/assets/js/38.96f383f0.js"><link rel="prefetch" href="/assets/js/39.11d3d0d7.js"><link rel="prefetch" href="/assets/js/4.7e1a4e7a.js"><link rel="prefetch" href="/assets/js/40.920373d3.js"><link rel="prefetch" href="/assets/js/41.35d39d0c.js"><link rel="prefetch" href="/assets/js/42.ac8a6553.js"><link rel="prefetch" href="/assets/js/43.b32da1b8.js"><link rel="prefetch" href="/assets/js/44.2a300ea6.js"><link rel="prefetch" href="/assets/js/45.39045a24.js"><link rel="prefetch" href="/assets/js/46.90905eb6.js"><link rel="prefetch" href="/assets/js/47.b989c417.js"><link rel="prefetch" href="/assets/js/48.a0e370fc.js"><link rel="prefetch" href="/assets/js/49.ac382d21.js"><link rel="prefetch" href="/assets/js/5.e91f520c.js"><link rel="prefetch" href="/assets/js/50.2a5c791b.js"><link rel="prefetch" href="/assets/js/51.2a54d46c.js"><link rel="prefetch" href="/assets/js/52.dd7f626a.js"><link rel="prefetch" href="/assets/js/53.3f3f147d.js"><link rel="prefetch" href="/assets/js/54.01a95868.js"><link rel="prefetch" href="/assets/js/55.c7b69e4e.js"><link rel="prefetch" href="/assets/js/56.60484440.js"><link rel="prefetch" href="/assets/js/57.979e19f1.js"><link rel="prefetch" href="/assets/js/58.b14ca47c.js"><link rel="prefetch" href="/assets/js/59.52985e41.js"><link rel="prefetch" href="/assets/js/6.a0b367e0.js"><link rel="prefetch" href="/assets/js/60.81eeec23.js"><link rel="prefetch" href="/assets/js/61.97f3e5a3.js"><link rel="prefetch" href="/assets/js/62.c2943e0a.js"><link rel="prefetch" href="/assets/js/63.c99d565c.js"><link rel="prefetch" href="/assets/js/64.9f4e2f25.js"><link rel="prefetch" href="/assets/js/65.1673fe32.js"><link rel="prefetch" href="/assets/js/66.9eccd52b.js"><link rel="prefetch" href="/assets/js/68.f490fa6b.js"><link rel="prefetch" href="/assets/js/69.3dc60969.js"><link rel="prefetch" href="/assets/js/7.9f4a8525.js"><link rel="prefetch" href="/assets/js/70.c44487ef.js"><link rel="prefetch" href="/assets/js/71.a9a35313.js"><link rel="prefetch" href="/assets/js/72.cf93ad32.js"><link rel="prefetch" href="/assets/js/73.99913944.js"><link rel="prefetch" href="/assets/js/74.510facd9.js"><link rel="prefetch" href="/assets/js/75.96165437.js"><link rel="prefetch" href="/assets/js/76.69966861.js"><link rel="prefetch" href="/assets/js/77.3eaf6412.js"><link rel="prefetch" href="/assets/js/78.63542af6.js"><link rel="prefetch" href="/assets/js/79.bf7537bb.js"><link rel="prefetch" href="/assets/js/80.1af6f338.js"><link rel="prefetch" href="/assets/js/81.89cf1d0a.js"><link rel="prefetch" href="/assets/js/82.32592bf0.js"><link rel="prefetch" href="/assets/js/83.e28cf472.js"><link rel="prefetch" href="/assets/js/84.64466a80.js"><link rel="prefetch" href="/assets/js/85.1ffcf5e4.js"><link rel="prefetch" href="/assets/js/86.f4aea5b8.js"><link rel="prefetch" href="/assets/js/87.c376c808.js"><link rel="prefetch" href="/assets/js/88.c291cce1.js"><link rel="prefetch" href="/assets/js/89.4ca7217c.js"><link rel="prefetch" href="/assets/js/90.718fa94e.js"><link rel="prefetch" href="/assets/js/91.3e6603a7.js"><link rel="prefetch" href="/assets/js/92.d1177551.js"><link rel="prefetch" href="/assets/js/93.f4e434b2.js"><link rel="prefetch" href="/assets/js/94.b955f917.js"><link rel="prefetch" href="/assets/js/95.c14e2a87.js"><link rel="prefetch" href="/assets/js/96.b56a58ce.js"><link rel="prefetch" href="/assets/js/97.b1f2a6c3.js"><link rel="prefetch" href="/assets/js/98.d90ee1a2.js"><link rel="prefetch" href="/assets/js/99.b55c0bbb.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.d437f548.js">
    <link rel="stylesheet" href="/assets/css/0.styles.49d708b7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">冯手力-java学习之路</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/操作/" class="nav-link">
  操作
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="经验" class="dropdown-title"><span class="title">经验</span> <span class="arrow down"></span></button> <button type="button" aria-label="经验" class="mobile-dropdown-title"><span class="title">经验</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/工作经验/" class="nav-link">
  工作经验
</a></li><li class="dropdown-item"><!----> <a href="/项目经验/" class="nav-link">
  项目经验
</a></li></ul></div></div><div class="nav-item"><a href="/java/" class="nav-link router-link-active">
  java
</a></div><div class="nav-item"><a href="/架构之路/" class="nav-link">
  架构之路
</a></div><div class="nav-item"><a href="/领域驱动设计/" class="nav-link">
  领域驱动设计
</a></div><div class="nav-item"><a href="/源码解析/" class="nav-link">
  源码解析
</a></div><div class="nav-item"><a href="/程序员英语/" class="nav-link">
  程序员英语
</a></div><div class="nav-item"><a href="/面试突击班/" class="nav-link">
  面试突击班
</a></div><div class="nav-item"><a href="/算法体系/" class="nav-link">
  算法体系
</a></div><div class="nav-item"><a href="/用友/" class="nav-link">
  用友
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/操作/" class="nav-link">
  操作
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="经验" class="dropdown-title"><span class="title">经验</span> <span class="arrow down"></span></button> <button type="button" aria-label="经验" class="mobile-dropdown-title"><span class="title">经验</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/工作经验/" class="nav-link">
  工作经验
</a></li><li class="dropdown-item"><!----> <a href="/项目经验/" class="nav-link">
  项目经验
</a></li></ul></div></div><div class="nav-item"><a href="/java/" class="nav-link router-link-active">
  java
</a></div><div class="nav-item"><a href="/架构之路/" class="nav-link">
  架构之路
</a></div><div class="nav-item"><a href="/领域驱动设计/" class="nav-link">
  领域驱动设计
</a></div><div class="nav-item"><a href="/源码解析/" class="nav-link">
  源码解析
</a></div><div class="nav-item"><a href="/程序员英语/" class="nav-link">
  程序员英语
</a></div><div class="nav-item"><a href="/面试突击班/" class="nav-link">
  面试突击班
</a></div><div class="nav-item"><a href="/算法体系/" class="nav-link">
  算法体系
</a></div><div class="nav-item"><a href="/用友/" class="nav-link">
  用友
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/java/" aria-current="page" class="sidebar-link">java底层基础知识</a></li><li><a href="/java/代码规范.html" class="sidebar-link">开发第一课-代码规范!</a></li><li><a href="/java/java_base.html" class="sidebar-link">java基础</a></li><li><a href="/java/execption.html" class="sidebar-link">Execption-异常相关</a></li><li><a href="/java/JDK8新特性/JDK8新特性.html" class="sidebar-link">JDK8新特性</a></li><li><a href="/java/lambda/Lambda表达式.html" class="sidebar-link">Lambda表达式</a></li><li><a href="/java/juc.html" class="sidebar-link">JUC</a></li><li><a href="/java/JVM.html" class="sidebar-link">JVM</a></li><li><a href="/java/Kafka.html" class="sidebar-link">Kafka</a></li><li><a href="/java/设计模式.html" class="sidebar-link">设计模式</a></li><li><a href="/java/Redis.html" class="sidebar-link">Redis</a></li><li><a href="/java/redis/redis系统性学习.html" class="sidebar-link">redis系统性学习</a></li><li><a href="/java/spring.html" class="sidebar-link">spring知识汇总</a></li><li><a href="/java/SpringBoot.html" class="sidebar-link">SpringBoot</a></li><li><a href="/java/SpringCloud.html" class="sidebar-link">SpringCloud学习</a></li><li><a href="/java/mysql.html" class="sidebar-link">MySql</a></li><li><a href="/java/总结的题目.html" class="sidebar-link">总结的题目</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="lambda"><a href="#lambda" class="header-anchor">#</a> lambda</h1> <blockquote><p>Lambda 表达式，也可称为闭包，它是推动 Java 8 发布的最重要新特性。<br>
Lambda 允许把函数作为一个方法的参数（函数作为参数传递进方法中）。<br>
使用 Lambda 表达式可以使代码变的更加简洁紧凑</p></blockquote> <h2 id="一-重要特性"><a href="#一-重要特性" class="header-anchor">#</a> 一.重要特性</h2> <ul><li>​		<strong>可选类型声明:</strong> 不需要声明参数类型，编译器可以统一识别参数值。</li> <li>​		<strong>可选的参数圆括号:</strong> 一个参数无需定义圆括号，但多个参数需要定义圆括号。</li> <li>​		<strong>可选的大括号:</strong> 如果主体包含了一个语句，就不需要使用大括号。</li> <li>​		<strong>可选的返回关键字:</strong> 如果主体只有一个表达式返回值则编译器会自动返回值，大括号需要指定明表达式返回了一个数值。</li></ul> <h2 id="二-具体用法"><a href="#二-具体用法" class="header-anchor">#</a> 二.具体用法</h2> <h3 id="_1-双冒号"><a href="#_1-双冒号" class="header-anchor">#</a> 1.双冒号&quot;::&quot;.</h3> <p><strong>用法</strong>:类名::方法名</p> <p>注意是方法名哦，后面没有括号“()”的。为啥不要括号，因为这样的是式子并不代表一定会调用这个方法。这种式子一般是用作Lambda表达式，Lambda有所谓懒加载嘛，不要括号就是说，看情况调用方法。</p> <h4 id="_1-例1"><a href="#_1-例1" class="header-anchor">#</a> 1.例1:</h4> <p>表达式:</p> <div class="language-java extra-class"><pre class="language-java"><code>person <span class="token operator">-&gt;</span> person<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>可以替换成</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Person</span><span class="token operator">::</span><span class="token function">getAge</span>
</code></pre></div><h4 id="_2-例2"><a href="#_2-例2" class="header-anchor">#</a> 2.例2:</h4> <p>表达式</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>可以替换成</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">HashMap</span><span class="token operator">::</span><span class="token keyword">new</span>
</code></pre></div><p>这种[方法引用]或者说[双冒号运算]对应的参数类型是Function&lt;T,R&gt; T表示传入类型，R表示返回类型。比如表达式person -&gt; person.getAge(); 传入参数是person，返回值是person.getAge()，那么方法引用Person::getAge就对应着Function&lt;Person,Integer&gt;类型。</p> <p>下面这段代码，进行的操作是，把<code>List&lt;String&gt;</code>里面的String全部大写并返还新的<code>ArrayList&lt;String&gt;</code>，在前面的例子中我们是这么写的：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">convertTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> collected <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    collected<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;alpha&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    collected<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;beta&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    collected <span class="token operator">=</span> collected<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>string <span class="token operator">-&gt;</span> string<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>collected<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>现在也可以被替换成下面的写法：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">convertTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> collected <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    collected<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;alpha&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    collected<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;beta&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    collected <span class="token operator">=</span> collected<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token operator">::</span><span class="token function">toUpperCase</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toCollection</span><span class="token punctuation">(</span><span class="token class-name">ArrayList</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//注意发生的变化</span>
    <span class="token comment">//上面是从网上看的,不过看起来Collectors.toCollection(ArrayList::new)和Collectors.toList()区别不大.</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>collected<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-lambda的stream"><a href="#_2-lambda的stream" class="header-anchor">#</a> 2.lambda的stream()</h3> <p>假设有一个TestObj</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestObj</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> pid<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> cid<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> attr1<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> attr2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">TestObj</span><span class="token punctuation">&gt;</span></span> objs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
           <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TestObj</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   		   <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TestObj</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TestObj</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TestObj</span><span class="token punctuation">(</span><span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TestObj</span><span class="token punctuation">(</span><span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TestObj</span><span class="token punctuation">(</span><span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;4&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FilterUtil</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">distinctByKey</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> keyExtractor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">,</span> <span class="token class-name">Boolean</span><span class="token punctuation">&gt;</span></span> seen <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcurrentHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> object <span class="token operator">-&gt;</span> seen<span class="token punctuation">.</span><span class="token function">putIfAbsent</span><span class="token punctuation">(</span>keyExtractor<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Boolean</span><span class="token punctuation">.</span><span class="token constant">TRUE</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="生成流函数"><a href="#生成流函数" class="header-anchor">#</a> 生成流函数</h4> <div class="language- extra-class"><pre><code>把集合装成流，可以多次使用这个集合，但是不转换流的话，只能用一次，这就是转换成流的好处
stream() − 为集合创建串行流。
parallelStream() − 为集合创建并行流。
</code></pre></div><h4 id="foreach"><a href="#foreach" class="header-anchor">#</a> forEach</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;ad&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;dr&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//或者如下也可以</span>
list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>a <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//或者不创建流也可以直接使用函数</span>
list<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//或者</span>
list<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>a <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="limit"><a href="#limit" class="header-anchor">#</a> limit</h4> <p>​          主要用来限制显示的量：eg:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//该random函数若是不传递参数，那么就采用当前时间的毫秒数当做种子数，若是传递了参数，就用传递的数字作为种子数了，但是这样的话，生成的随机数就是伪随机数，虽然随机，但是点几次，都基本一样，因为传入的种子数限制了函数的选择性</span>
<span class="token class-name">Random</span> random <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//受到limit限制，只会随机显示10个数字，因为没有传递参数，那么每次点击都会不一样，否则，若传递了种子数，点击几次都一样</span>
random<span class="token punctuation">.</span><span class="token function">ints</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token comment">//像下面的都一样</span>
<span class="token class-name">Random</span> random <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//传递了种子数</span>
random<span class="token punctuation">.</span><span class="token function">ints</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="map函数"><a href="#map函数" class="header-anchor">#</a> map函数</h4> <p>​            主要用来对传入的参数进行逻辑处理，例如：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//用数组来转换集合</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//distinct()函数，是去重复函数</span>
list <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">distinct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>i <span class="token operator">-&gt;</span> i<span class="token operator">*</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//打印输出list</span>
list<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h4 id="filter函数"><a href="#filter函数" class="header-anchor">#</a> Filter函数</h4> <p>​          用来过滤所需要的数据</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;sd&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>i <span class="token operator">-&gt;</span> <span class="token operator">!</span>i<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="collectors函数"><a href="#collectors函数" class="header-anchor">#</a> Collectors函数</h4> <p>​			可以集合成所需要的集合类型</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token string">&quot;asd&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;dsg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//把list集合转换成带逗号“，”的字符串</span>
<span class="token class-name">String</span> str<span class="token operator">=</span>list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>a <span class="token operator">-&gt;</span> <span class="token operator">!</span>a<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">joining</span><span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//把得到的字符串转换为了数组了</span>
<span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> split <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="统计函数"><a href="#统计函数" class="header-anchor">#</a> 统计函数</h4> <p>​            用来统计数组集合的最大最小平均总和的各个值</p> <div class="language- extra-class"><pre class="language-text"><code>List&lt;Integer&gt; list = Arrays.asList(12,34,23,12,3,34);
IntSummaryStatistics stats= list.stream().mapToInt(x -&gt; x).summaryStatistics();
//最大值
stats.getMax();
//最小值
stats.getMin();
//平均值
stats.getAverage();
//总数
stats.getCount();
//总和
stats.getSum();
</code></pre></div><h4 id="_1-将一个list-testobj-抽取某个字段组成新list-string-字段并去重"><a href="#_1-将一个list-testobj-抽取某个字段组成新list-string-字段并去重" class="header-anchor">#</a> 1.将一个<code>List&lt;TestObj&gt;</code>抽取某个字段组成新<code>List&lt;String&gt;</code>字段并去重</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> pids <span class="token operator">=</span> objs<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">TestObj</span><span class="token operator">::</span><span class="token function">getPid</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">distinct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;pids====&quot;</span><span class="token operator">+</span>pids<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//pids====[1, 2, 3]</span>
</code></pre></div><h4 id="_2-list-testobj-按某个字段分堆"><a href="#_2-list-testobj-按某个字段分堆" class="header-anchor">#</a> 2.<code>List&lt;TestObj&gt;</code>按某个字段分堆</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">PreWarningDTO</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> warnListMap <span class="token operator">=</span> preWarningDTOS<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">groupingBy</span><span class="token punctuation">(</span>
                item <span class="token operator">-&gt;</span>
                     <span class="token function">getKey</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span><span class="token function">getProjectId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>item<span class="token punctuation">.</span><span class="token function">getContractId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//warnListMap===={1-1=[TestObj(pid=1, cid=1, attr1=1, attr2=1), TestObj(pid=1, cid=1, attr1=2, attr2=2)], 2-1=[TestObj(pid=2, cid=1, attr1=1, attr2=1)], 1-2=[TestObj(pid=1, cid=2, attr1=1, attr2=1)], 2-2=[TestObj(pid=2, cid=2, attr1=1, attr2=1)], 3-4=[TestObj(pid=3, cid=4, attr1=1, attr2=1)]}</span>

</code></pre></div><h4 id="_3-list-testobj-按照指定主键去重-仅重复主键仅保留前面的"><a href="#_3-list-testobj-按照指定主键去重-仅重复主键仅保留前面的" class="header-anchor">#</a> 3.<code>List&lt;TestObj&gt;</code>按照指定主键去重(仅重复主键仅保留前面的)</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">TestObj</span><span class="token punctuation">&gt;</span></span> collect <span class="token operator">=</span> objs<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token class-name">FilterUtil</span><span class="token punctuation">.</span><span class="token function">distinctByKey</span><span class="token punctuation">(</span>
                item <span class="token operator">-&gt;</span>
                        item<span class="token punctuation">.</span><span class="token function">getPid</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;-&quot;</span> <span class="token operator">+</span> item<span class="token punctuation">.</span><span class="token function">getCid</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//collect====[TestObj(pid=1, cid=1, attr1=1, attr2=1), TestObj(pid=1, cid=2, attr1=1, attr2=1), TestObj(pid=2, cid=1, attr1=1, attr2=1), TestObj(pid=2, cid=2, attr1=1, attr2=1), TestObj(pid=3, cid=4, attr1=1, attr2=1)]</span>

</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.4bcd492b.js" defer></script><script src="/assets/js/2.8fdba881.js" defer></script><script src="/assets/js/1.54dbed7e.js" defer></script><script src="/assets/js/67.969dec50.js" defer></script>
  </body>
</html>
