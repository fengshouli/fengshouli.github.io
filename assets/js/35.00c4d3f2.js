(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{307:function(e,n,a){e.exports=a.p+"assets/img/dd14d2b90bcc08d9c17737d3f707bef2.a5ccf886.png"},832:function(e,n){e.exports="data:image/png;base64,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"},833:function(e,n,a){e.exports=a.p+"assets/img/ceb820d6ffc6c91f547d5eedc3edb77e.9a0df37b.png"},834:function(e,n,a){e.exports=a.p+"assets/img/97115afde2dac566dff41f0ea3c37a3d.ac4db107.png"},835:function(e,n,a){e.exports=a.p+"assets/img/be3dc873d0e0920a094c3cb4e4149312.fa8b4bc9.png"},836:function(e,n){e.exports="data:image/png;base64,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"},949:function(e,n,a){"use strict";a.r(n);var t=a(17),r=Object(t.a)({},(function(){var e=this,n=e._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h2",{attrs:{id:"redis2025-上"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#redis2025-上"}},[e._v("#")]),e._v(" redis2025-上")]),e._v(" "),n("h2",{attrs:{id:"一-redis跟hashmap在结构上的区别"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一-redis跟hashmap在结构上的区别"}},[e._v("#")]),e._v(" 一.Redis跟HashMap在结构上的区别")]),e._v(" "),n("p",[n("strong",[e._v("Redis")])]),e._v(" "),n("ul",[n("li",[n("strong",[e._v("定位")]),e._v(" ：Redis 是一个高性能的分布式内存数据库，支持多种数据结构（如 String、Hash、List、Set、Sorted Set 等），并提供持久化、主从复制、哨兵模式、集群模式等功能。")]),e._v(" "),n("li",[n("strong",[e._v("适用场景")]),e._v(" ：\n"),n("ul",[n("li",[e._v("缓存：作为缓存层，加速数据访问。")]),e._v(" "),n("li",[e._v("分布式锁：利用 Redis 的原子操作实现分布式锁。")]),e._v(" "),n("li",[e._v("消息队列：利用 List 或 Stream 实现简单的消息队列。")]),e._v(" "),n("li",[e._v("排行榜：利用 Sorted Set 实现实时排行榜。")]),e._v(" "),n("li",[e._v("地理位置：利用 Geo 模块存储和查询地理位置信息。")])])]),e._v(" "),n("li",[n("strong",[e._v("特点")]),e._v(" ：\n"),n("ul",[n("li",[e._v("支持分布式部署，适合高并发、高可用的场景。")]),e._v(" "),n("li",[e._v("支持数据持久化，避免数据丢失。")]),e._v(" "),n("li",[e._v("支持多种数据结构，功能丰富。")])])])]),e._v(" "),n("p",[n("strong",[e._v("HashMap")])]),e._v(" "),n("ul",[n("li",[n("p",[n("strong",[e._v("定位")]),e._v(" ：HashMap 是 Java 中的一种数据结构，基于哈希表实现，用于存储键值对。")])]),e._v(" "),n("li",[n("p",[n("strong",[e._v("适用场景")]),e._v(" ：")]),e._v(" "),n("ul",[n("li",[e._v("单机内存缓存：适合小规模数据的快速查询和存储。")]),e._v(" "),n("li",[e._v("临时数据存储：适合在程序运行期间存储临时数据。")]),e._v(" "),n("li",[e._v("数据索引：适合通过键快速查找值。")])])]),e._v(" "),n("li",[n("p",[n("strong",[e._v("特点")]),e._v(" ：")]),e._v(" "),n("ul",[n("li",[e._v("单机内存存储，不支持分布式。")]),e._v(" "),n("li",[e._v("数据结构简单，功能单一。")]),e._v(" "),n("li",[e._v("性能高，但受限于单机内存大小。")])]),e._v(" "),n("h2",{attrs:{id:"设计一个社交媒体应用-如何使用redis来实时统计用户的点赞、评论和分享数量"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#设计一个社交媒体应用-如何使用redis来实时统计用户的点赞、评论和分享数量"}},[e._v("#")]),e._v(" 设计一个社交媒体应用，如何使用Redis来实时统计用户的点赞、评论和分享数量")]),e._v(" "),n("p",[e._v("一般推荐使用Redis的Hash数据类型来做：")]),e._v(" "),n("p",[e._v("增加点赞数：")]),e._v(" "),n("p",[e._v("Redis命令")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("HINCRBY question:123 likes 1\n")])])]),n("p",[e._v("Springboot的Redis的API")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v(' HashOperations<String, String, Integer> hashOperations;\n hashOperations = redisTemplate.opsForHash();\n hashOperations.increment("question:123", "likes", 1);\n\n')])])]),n("p",[e._v("具体的代码：")]),e._v(" "),n("p",[n("img",{attrs:{src:a(832),alt:"image.png"}})])])]),e._v(" "),n("h2",{attrs:{id:"应用中的排行榜功能-如何利用redis来实现"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#应用中的排行榜功能-如何利用redis来实现"}},[e._v("#")]),e._v(" 应用中的排行榜功能，如何利用Redis来实现")]),e._v(" "),n("ul",[n("li",[n("strong",[e._v("Redis 按日期存储数据")]),e._v(" ：每天的数据存储在一个独立的 Key 中，方便按天统计和清理。")]),e._v(" "),n("li",[n("strong",[e._v("定时任务汇总数据")]),e._v(" ：每天凌晨将前 7 天的数据汇总到 "),n("code",[e._v("ranking:7days_summary")]),e._v(" 中。")]),e._v(" "),n("li",[n("strong",[e._v("清理旧数据")]),e._v(" ：定时任务会清理超过 7 天的旧数据，避免 Redis 内存占用过多。")]),e._v(" "),n("li",[n("strong",[e._v("查询排行榜")]),e._v(" ：直接从汇总 Key 中获取前 7 天的排行榜数据。")])]),e._v(" "),n("p",[e._v("这种方式既能保证排行榜的实时性，又能高效地统计和查询前 7 天的数据，适合需要长期保存排行榜数据的场景")]),e._v(" "),n("p",[n("img",{attrs:{src:a(833),alt:"image.png"}})]),e._v(" "),n("h2",{attrs:{id:"如何使用redis的发布-订阅功能实现消息通知系统"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#如何使用redis的发布-订阅功能实现消息通知系统"}},[e._v("#")]),e._v(" 如何使用Redis的发布/订阅功能实现消息通知系统")]),e._v(" "),n("p",[n("img",{attrs:{src:a(834),alt:"image.png"}})]),e._v(" "),n("p",[e._v("Redis 的发布/订阅（Pub/Sub）功能可以实现一个轻量级的消息通知系统，支持不同模块之间的实时通信。")]),e._v(" "),n("p",[e._v("核心概念")]),e._v(" "),n("ul",[n("li",[n("strong",[e._v("频道（Channel）")]),e._v(" ：消息的发布和订阅基于频道。每个模块可以订阅一个或多个频道。")]),e._v(" "),n("li",[n("strong",[e._v("发布者（Publisher）")]),e._v(" ：向频道发送消息的模块。")]),e._v(" "),n("li",[n("strong",[e._v("订阅者（Subscriber）")]),e._v(" ：从频道接收消息的模块。")])]),e._v(" "),n("p",[e._v("多级缓存架构")]),e._v(" "),n("p",[e._v("在高性能的服务项目中，我们一般会将一些热点数据存储到 Redis这类缓存中间件中，只有当缓存的访问没有命中时再查询数据库。在提升访问速度的同时，也能降低数据库的压力。")]),e._v(" "),n("p",[e._v("但是在一些场景下单纯使用 Redis 的分布式缓存不能满足高性能的要求，所以还需要加入使用本地缓存Caffeine，从而再次提升程序的响应速度与服务性能。于是，就产生了使用本地缓存（Caffeine）作为一级缓存，再加上分布式缓存（Redis）作为二级缓存的两级缓存架构。")]),e._v(" "),n("p",[n("img",{attrs:{src:a(307),alt:"image.png"}})]),e._v(" "),n("p",[e._v("就是如果一个应用修改了缓存，另外一个应用的caffeine缓存是没有办法感知的，所以这里就会有缓存的一致性问题")]),e._v(" "),n("p",[n("img",{attrs:{src:a(835),alt:"image.png"}})]),e._v(" "),n("p",[e._v("解决方案也很简单，就是在Redis中做一个发布和订阅。")]),e._v(" "),n("p",[e._v("遇到修改缓存的处理，需要向对应的频道发布一条消息，然后应用同步监听这条消息，有消息则需要删除本地的Caffeine缓存。")]),e._v(" "),n("p",[e._v("核心代码如下：")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('CacheAspect类\n //强制更新\n        if (annotation.type()== CacheType.PUT){\n            Object object = point.proceed();\n            redisTemplate.opsForValue().set(realKey, object,annotation.l2TimeOut(), TimeUnit.SECONDS);\n            cache.put(realKey, object);\n            // 发送消息到Redis频道(让其他应用把Caffeine缓存失效掉)\n            redisTemplate.convertAndSend("cacheUpdateChannel", realKey);\n            log.info("cacheUpdateChannel:"+realKey);\n            return object;\n        }\n //删除\n        else if (annotation.type()== CacheType.DELETE){\n            redisTemplate.delete(realKey);\n            cache.invalidate(realKey);\n            // 发送消息到Redis频道(让其他应用把Caffeine缓存失效掉)\n            redisTemplate.convertAndSend("cacheUpdateChannel", realKey);\n            log.info("cacheUpdateChannel:"+realKey);\n            return point.proceed();\n        }\n  log.info("get data from database");\n        Object object = point.proceed();\n        if (Objects.nonNull(object)){\n            //写入Redis\n            redisTemplate.opsForValue().set(realKey, object,annotation.l2TimeOut(), TimeUnit.SECONDS);\n            //写入Caffeine\n            cache.put(realKey, object);\n            // 发送消息到Redis频道(让其他应用把Caffeine缓存失效掉)\n            redisTemplate.convertAndSend("cacheUpdateChannel", realKey);\n            log.info("cacheUpdateChannel:"+realKey);\n        }\n')])])]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('package com.msb.caffeine.config;\n\nimport com.msb.caffeine.service.RedisMessageListener;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.redis.connection.RedisConnectionFactory;\nimport org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory;\nimport org.springframework.data.redis.core.RedisTemplate;\nimport org.springframework.data.redis.listener.ChannelTopic;\nimport org.springframework.data.redis.listener.RedisMessageListenerContainer;\nimport org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer;\nimport org.springframework.data.redis.serializer.StringRedisSerializer;\n\n@Configuration\npublic class RedisConfig {\n\n    @Bean\n    public LettuceConnectionFactory redisConnectionFactory() {\n        return new LettuceConnectionFactory(); // 需要设置主机名，端口，密码等参数\n    }\n\n    @Bean\n    public RedisTemplate<String, Object> redisTemplate(RedisConnectionFactory redisConnectionFactory) {\n        RedisTemplate<String, Object> template = new RedisTemplate<>();\n        template.setConnectionFactory(redisConnectionFactory);\n\n        // 使用Jackson2JsonRedisSerializer来序列化和反序列化对象\n        GenericJackson2JsonRedisSerializer jackson2JsonRedisSerializer = new GenericJackson2JsonRedisSerializer();\n\n        // 设置键序列化器\n        template.setKeySerializer(new StringRedisSerializer());\n        template.setHashKeySerializer(new StringRedisSerializer());\n\n        // 设置值序列化器\n        template.setValueSerializer(jackson2JsonRedisSerializer);\n        template.setHashValueSerializer(jackson2JsonRedisSerializer);\n\n        template.afterPropertiesSet();\n        return template;\n    }\n\n    @Bean\n    RedisMessageListenerContainer container(RedisConnectionFactory factory, RedisMessageListener listener) {\n        RedisMessageListenerContainer container = new RedisMessageListenerContainer();\n        container.setConnectionFactory(factory);\n        container.addMessageListener(listener, new ChannelTopic("cacheUpdateChannel"));\n        return container;\n    }\n}\n\n')])])]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('package com.msb.caffeine.service;\n\nimport com.github.benmanes.caffeine.cache.Cache;\nimport com.msb.caffeine.service.impl.UserService;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.redis.connection.Message;\nimport org.springframework.data.redis.connection.MessageListener;\nimport org.springframework.stereotype.Component;\n\n@Slf4j\n@Component\npublic class RedisMessageListener  implements MessageListener {\n\n    @Autowired\n    private Cache cache;\n\n    //这里就是应用接收到了（要删除缓存的策略）： 这里就强制删除Caffeine中的缓存数据\n    @Override\n    public void onMessage(Message message, byte[] pattern) {\n        String cacheKey = new String(message.getBody());\n        if(!cacheKey.equals("")){\n            log.info("invalidate:"+cacheKey);\n            cache.invalidate(cacheKey);\n        }\n    }\n}\n\n')])])]),n("h2",{attrs:{id:"redis其他的场景设计"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#redis其他的场景设计"}},[e._v("#")]),e._v(" Redis其他的场景设计")]),e._v(" "),n("p",[n("strong",[e._v("如何使用Redis的地理位置功能（Geo）来实现XXX")])]),e._v(" "),n("p",[e._v("使用 Redis 的 Geo 功能来实现 "),n("strong",[e._v("“附近的人”")]),e._v(" 或 "),n("strong",[e._v("“附近的商家“")])]),e._v(" "),n("p",[e._v("Redis 的 Geo 功能基于 "),n("strong",[e._v("Sorted Set（ZSET）")]),e._v(" 实现，提供了以下核心命令：")]),e._v(" "),n("ul",[n("li",[n("strong",[n("code",[e._v("GEOADD")])]),e._v(" ：添加地理位置（经纬度）到指定的 Key 中。")]),e._v(" "),n("li",[n("strong",[n("code",[e._v("GEODIST")])]),e._v(" ：计算两个位置之间的距离。")]),e._v(" "),n("li",[n("strong",[n("code",[e._v("GEORADIUS")])]),e._v(" ：查询指定半径范围内的位置。")]),e._v(" "),n("li",[n("strong",[n("code",[e._v("GEORADIUSBYMEMBER")])]),e._v(" ：以某个成员为中心，查询指定半径范围内的位置。")]),e._v(" "),n("li",[n("strong",[n("code",[e._v("GEOHASH")])]),e._v(" ：获取某个位置的 Geohash 值。")])]),e._v(" "),n("p",[n("img",{attrs:{src:a(836),alt:"image.png"}})]),e._v(" "),n("p",[n("strong",[e._v("基于 Redis 的秒杀系统，如何解决超卖问题？")])]),e._v(" "),n("p",[e._v("具体见代码")]),e._v(" "),n("p",[n("strong",[e._v("基于 Redis 的短链接生成系统")])]),e._v(" "),n("ul",[n("li",[n("p",[n("strong",[e._v("使用 Redis 的自增 ID")]),e._v(" ：通过 Redis 的 "),n("code",[e._v("INCR")]),e._v(" 命令生成唯一的短链接 ID。")])]),e._v(" "),n("li",[n("p",[n("strong",[e._v("Base62 编码")]),e._v(" ：将自增 ID 转换为短链接字符串。")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('package com.msb.caffeine.redisDemo;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.redis.core.RedisTemplate;\nimport org.springframework.stereotype.Service;\n\nimport java.util.Base64;\n\n@Service\npublic class ShortUrlService {\n\n    private static final String SHORT_URL_KEY = "short_url:id"; // 自增 ID Key\n\n    @Autowired\n    private RedisTemplate<String, String> redisTemplate;\n\n    /**\n     * 生成短链接\n     *\n     * @param longUrl 原始链接\n     * @return 短链接\n     */\n    public String generateShortUrl(String longUrl) {\n        // 生成自增 ID\n        long id = redisTemplate.opsForValue().increment(SHORT_URL_KEY, 1);\n\n        // Base62 编码\n        String shortUrl = Base64.getEncoder().encodeToString(String.valueOf(id).getBytes());\n\n        // 存储映射关系\n        redisTemplate.opsForValue().set("short_url:" + shortUrl, longUrl);\n\n        return shortUrl;\n    }\n\n    /**\n     * 获取原始链接\n     *\n     * @param shortUrl 短链接\n     * @return 原始链接\n     */\n    public String getLongUrl(String shortUrl) {\n        return redisTemplate.opsForValue().get("short_url:" + shortUrl);\n    }\n}\n')])])])])]),e._v(" "),n("p",[n("strong",[e._v("基于 Redis 的分布式 Session 管理系统")])]),e._v(" "),n("ul",[n("li",[n("strong",[e._v("使用 Redis 存储 Session")]),e._v(" ：将 Session 数据存储在 Redis 中，Key 为 Session ID，Value 为 Session 数据。")]),e._v(" "),n("li",[n("strong",[e._v("设置过期时间")]),e._v(" ：通过 Redis 的 "),n("code",[e._v("EXPIRE")]),e._v(" 命令设置 Session 的过期时间。")])])])}),[],!1,null,null,null);n.default=r.exports}}]);